<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Luke Craig</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üöÄ</text></svg>">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');

        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f8f9fa;
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        .nav-link {
            position: relative;
        }

        .nav-link::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -2px;
            left: 0;
            background-color: #3b82f6;
            transition: width 0.3s ease;
        }

        .nav-link.active::after,
        .nav-link:hover::after {
            width: 100%;
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* --- CONFETTI CSS --- */
        /* This CSS defines the look of each confetti piece. */
        .confetti {
            position: fixed;
            /* Use fixed positioning to cover the whole screen */
            width: 8px;
            /* Rectangular shape for a classic confetti look */
            height: 16px;
            z-index: 10000;
            /* Ensure it's on top of everything */
            pointer-events: none;
            /* Make sure the confetti can't be clicked */
        }

        /* CSS for the Slideshow */
        .slide {
            display: none;
            transition: opacity 0.5s ease-in-out;
        }

        .slide.active {
            display: block;
        }

        .slide img {
            width: 100%;
            vertical-align: middle;
            /* Removes bottom space under image */
        }

        .dot {
            cursor: pointer;
            height: 12px;
            width: 12px;
            background-color: #bbb;
            border-radius: 50%;
            display: inline-block;
            transition: background-color 0.6s ease;
        }

        .dot.active,
        .dot:hover {
            background-color: #717171;
        }

        /* CSS for Emoji Hover Labels */
        .emoji-label {
            opacity: 0;
            pointer-events: none;
            /* Prevents the label from interfering with clicks */
            transition: opacity 0.2s ease-in-out, transform 0.2s ease-in-out;
            transform: translateY(5px);
        }

        .emoji-container:hover .emoji-label {
            opacity: 1;
            transform: translateY(0);
        }

        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out;
            /* Changed from ease-in-out */
        }

        /* This is the new, more robust CSS for the accordion */
        .accordion-item.active .accordion-content {
            max-height: 5000px;
            /* A large value that your content will not exceed */
        }

        .accordion-item.active .accordion-content-wrapper {
            /* This adds the border only when the section is open */
            border-top: 1px solid #e5e7eb;
        }

        /* --- CSS for View Toggle --- */
        .view-toggle-btn {
            transition: background-color 0.3s, color 0.3s;
            color: #4b5563;
            /* text-gray-600 */
        }

        .view-toggle-btn.active {
            background-color: #ffffff;
            color: #3b82f6;
            /* text-blue-600 */
            box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
        }

        /* --- CSS for Map Pins, Tooltips, and Leader Lines --- */
        .map-pin {
            position: absolute;
            z-index: 10;
            /* Base layer for the pin */
            width: 20px;
            height: 20px;
            background-color: #ef4444;
            /* Red */
            border-radius: 50%;
            border: 2px solid white;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.4);
            cursor: pointer;
            transition: transform 0.2s ease-in-out, background-color 0.2s ease-in-out;
            transform: translate(-50%, -100%);
        }

        .map-pin:hover {
            transform: translate(-50%, -100%) scale(1.5);
            background-color: #3b82f6;
            /* Blue on hover */
            z-index: 11;
            /* Bring hovered pin to the front */
        }

        .pin-tooltip {
            position: absolute;
            bottom: 150%;
            /* Position above the pin */
            left: 50%;
            transform: translateX(-50%);
            background-color: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
            white-space: nowrap;
            opacity: 0;
            transition: opacity 0.2s ease-in-out;
            pointer-events: none;
            /* The tooltip itself isn't clickable */
            z-index: 12;
            /* Ensure tooltip is on top of the pin */
        }

        .map-pin:hover .pin-tooltip {
            opacity: 1;
        }

        .leader-line {
            stroke: #4b5563;
            /* Gray-600 */
            stroke-width: 1.5;
            stroke-dasharray: 4 2;
            /* Creates a dashed line */
            pointer-events: none;
        }

        .location-dot {
            fill: #4b5563;
            /* Gray-600 */
            stroke: white;
            stroke-width: 1;
            pointer-events: none;
        }

        /* --- CSS for Image Magnifier --- */
        .magnify-container {
            position: relative;
            /* This is essential for positioning the lens */
            cursor: none;
            /* We'll hide the default cursor */
        }

        .magnify-lens {
            position: absolute;
            /* This creates the magnifying glass circle */
            border: 3px solid #fff;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.25);
            border-radius: 50%;
            width: 275px;
            /* The size of the magnifying glass */
            height: 275px;

            /* Hide the lens by default */
            display: none;
            pointer-events: none;
            /* Make sure the lens doesn't block mouse events */

            /* The background image will be set by JavaScript */
            background-repeat: no-repeat;
        }

        /* Custom cursor to look like a magnifying glass */
        .magnify-container::after {
            content: 'üîç';
            font-size: 2rem;
            /* Size of the emoji cursor */
            position: absolute;
            pointer-events: none;
            display: none;
            /* Hidden by default */
        }

        .magnify-container a {
            cursor: none;
            /* This hides the hand cursor on the link as well */
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body class="min-h-screen">
    <!-- Password Entry Screen -->
    <div id="password-screen" class="min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-500 to-purple-600 p-4">
        <div class="bg-white rounded-xl shadow-2xl p-8 w-full max-w-md fade-in">
            <div class="text-center mb-8">
                <h1 class="text-3xl font-bold text-gray-800 mb-2">Welcome</h1>
                <p class="text-gray-600">Enter the password to continue</p>
            </div>

            <div class="space-y-4">
                <div>
                    <label for="password" class="block text-sm font-medium text-gray-700 mb-1">Password</label>
                    <input type="password" id="password" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition">
                </div>

                <button id="submit-password" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition duration-200 transform hover:scale-[1.02]">
                    Enter Site
                </button>

                <p id="password-error" class="text-red-500 text-sm text-center hidden">Incorrect password. Please try again.</p>

            </div>
        </div>
    </div>

    <!-- Main Site Content -->
    <div id="main-content" class="hidden">
        <!-- Navigation -->
        <nav class="bg-white shadow-md">
            <div class="container mx-auto px-4 py-3">
                <div class="flex flex-col md:flex-row justify-between items-center">
                    <div class="flex items-center mb-4 md:mb-0">
                        <span class="text-2xl font-bold text-blue-600">Luke Craig</span>
                    </div>

                    <ul class="flex space-x-1 sm:space-x-2 md:space-x-8">
                        <li><a href="#" class="nav-link px-2 py-1 text-gray-700 hover:text-blue-600 transition duration-200 active" data-page="about">About</a></li>
                        <li><a href="#" class="nav-link px-2 py-1 text-gray-700 hover:text-blue-600 transition duration-200" data-page="professional">Professional</a></li>
                        <li><a href="#" class="nav-link px-2 py-1 text-gray-700 hover:text-blue-600 transition duration-200" data-page="learning">Learning</a></li>
                        <li><a href="#" class="nav-link px-2 py-1 text-gray-700 hover:text-blue-600 transition duration-200" data-page="adventures">Adventures</a></li>
                        <li><a href="#" class="nav-link px-2 py-1 text-gray-700 hover:text-blue-600 transition duration-200" data-page="future">Future</a></li>
                    </ul>
                </div>
            </div>
        </nav>

        <!-- Page Content -->
        <div class="container mx-auto px-4 py-8">
            <!-- About Page -->
            <div id="about" class="page active fade-in">
                <div class="max-w-4xl mx-auto">
                    <!-- Add Profile Picture Here -->
                    <div class="mb-8 text-center">
                        <img src="https://i.ibb.co/WytkYvt/IMG-20200218-191720-1.jpg" alt="A picture of Luke Craig" class="w-48 h-48 rounded-full mx-auto shadow-xl border-4 border-white -mt-4">
                    </div>
                    <h1 class="text-3xl md:text-4xl font-bold text-gray-800 mb-6 text-center">Mission Statement</h1>

                    <div class="bg-white rounded-xl shadow-md p-6 mb-8">
                        <p class="text-2xl font-semibold text-gray-800 mb-4 text-center">To empower others to reach their potential, be creative and live life to the full.</p>

                        <p class="text-gray-700 mb-4">This website is a portfolio of things I have done in my life which I am proud of. I created the website using HTML, CSS and JavaScript (with a little help from AI.) Below are some examples of my adventures, travels and achievements over the years...</p>


                    </div>
                    <!-- Slideshow Container -->
                    <div class="max-w-4xl mx-auto my-8">
                        <div id="slideshow-container" class="relative rounded-lg shadow-2xl overflow-hidden">
                            <!-- Slides will be inserted here by JavaScript -->

                            <!-- Next/previous buttons -->
                            <a id="prev-btn" class="absolute top-1/2 left-0 transform -translate-y-1/2 p-4 text-white font-bold text-2xl cursor-pointer hover:bg-black/50 transition duration-300">&#10094;</a>
                            <a id="next-btn" class="absolute top-1/2 right-0 transform -translate-y-1/2 p-4 text-white font-bold text-2xl cursor-pointer hover:bg-black/50 transition duration-300">&#10095;</a>

                            <!-- Dots container -->
                            <div id="dots-container" class="absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2">
                                <!-- Dots will be inserted here by JavaScript -->
                            </div>
                        </div>
                    </div>


                </div>
            </div>

            <!-- Other pages remain here... -->
            <!-- Teaching Page -->
            <!-- Professional Page -->
            <div id="professional" class="page fade-in">
                <div class="max-w-4xl mx-auto">
                    <!-- Add Professional Page Header Image Here -->
                    <div class="mb-8">
                        <img src="https://lh3.googleusercontent.com/pw/AP1GczNB_Ac_xQiTMQ_lKd0OvAdfw8xD_6aZ0AX7zNGKmflc0nBC5gvgzpvF82L8wrmCgUpdMmuZ8pe5zqbgFAS2qkVilzMwizH1ao7Nnqoi1V_yiP6qpLfSuVlEQxhHjOmNv4k9dgSezLZm5kqHrVGQiGjGrg=w1864-h1404-s-no-gm?authuser=0" alt="Luke Craig presenting at a conference" class="w-full h-64 object-cover rounded-xl shadow-lg">
                    </div>

                    <!-- Professional Summary -->
                    <div class="bg-white rounded-xl shadow-md p-8 mb-8">
                        <h2 class="text-2xl font-bold text-gray-800 mb-4">Professional Summary</h2>
                        <p class="text-gray-700">
                            With over a decade of experience transforming classrooms, I am a passionate leader in the field of educational technology. My work as a Google Certified Trainer and Innovator has taken me across the globe, where I've had the privilege of training educators in Miami, Amsterdam, Oman, and beyond. I specialize in empowering teachers to transform their pedagogy through the use of technology and creating custom solutions using Google Apps Script to solve unique challenges in schools.<br><br>

                            This practical, hands-on work is underpinned by a deep commitment to academic research. Holding both a Bachelor's and a Master's of Education, I am currently a doctoral candidate (EdD) at the University of East London. My research explores how technology can be a powerful catalyst for student creativity, a theme that drives my professional mission. As a published author, I strive to bridge the gap between educational theory and practical, impactful classroom application.
                        </p>
                    </div>

                    <!-- Experience Timeline -->
                    <div>
                        <h2 class="text-3xl font-bold text-center text-gray-800 mb-8">Experience</h2>
                        <div class="relative border-l-2 border-blue-200 ml-4">

                            <!-- Timeline Item: Education Consultant -->
                            <div class="mb-8 pl-8">
                                <div class="absolute -left-4 mt-1.5 w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white">
                                    <i class="fas fa-briefcase"></i>
                                </div>
                                <div class="bg-white rounded-xl shadow-md p-6">
                                    <p class="text-sm text-gray-500">2022 - Present</p>
                                    <h3 class="text-xl font-bold text-gray-800 mt-1">Education Consultant</h3>
                                    <p class="font-semibold text-gray-700 mb-3">The Education Space</p>
                                    <ul class="list-disc list-inside text-gray-600 space-y-1">
                                        <li>Deliver comprehensive training sessions for Computing Leads.</li>
                                        <li>Provide strategic guidance for senior leaders on digital transformation.</li>
                                        <li>Develop custom applications using Google Apps Script.</li>
                                    </ul>
                                </div>
                            </div>
                            <!-- Timeline Item: Guest Editor -->
                            <div class="mb-8 pl-8">
                                <div class="absolute -left-4 mt-1.5 w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-white">
                                    <i class="fas fa-edit"></i>
                                </div>
                                <div class="bg-white rounded-xl shadow-md p-6">
                                    <p class="text-sm text-gray-500">May 2025</p>
                                    <h3 class="text-xl font-bold text-gray-800 mt-1">Guest Editor</h3>
                                    <p class="font-semibold text-gray-700 mb-3">UEL's RITE Journal</p>
                                    <p class="text-gray-600">One of four guest editors for the University of East London's '<a href="https://www.uel.ac.uk/sites/default/files/rite-may-25---complete-issue.pdf" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:underline">Research in Teacher Education</a>' Journal.</p>
                                </div>
                            </div>

                            <!-- Timeline Item: Author -->
                            <div class="mb-8 pl-8">
                                <div class="absolute -left-4 mt-1.5 w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center text-white">
                                    <i class="fas fa-book-open"></i>
                                </div>
                                <div class="bg-white rounded-xl shadow-md p-6">
                                    <p class="text-sm text-gray-500">2024</p>
                                    <h3 class="text-xl font-bold text-gray-800 mt-1">Author</h3>
                                    <p class="font-semibold text-gray-700 mb-3">Cambridge University Press</p>
                                    <p class="text-gray-600">Co-authored <a href="https://www.cambridge.org/gb/education/subject/computing/ict/cambridge-primary-and-lower-secondary-computing/cambridge-primary-computing-digital-learners-book-6-1-year-learners-book-6-digital-access-1-year?format=DO&isbn=9781009320542" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:underline">Primary Computing Learner's Book 6</a>, writing the chapters on Programming and Computational Thinking.</p>
                                </div>
                            </div>

                            <!-- Timeline Item: Computing Lead -->
                            <div class="mb-8 pl-8">
                                <div class="absolute -left-4 mt-1.5 w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white">
                                    <i class="fas fa-briefcase"></i>
                                </div>
                                <div class="bg-white rounded-xl shadow-md p-6">
                                    <p class="text-sm text-gray-500">2014 - Present</p>
                                    <h3 class="text-xl font-bold text-gray-800 mt-1">Computing Lead</h3>
                                    <p class="font-semibold text-gray-700 mb-3">Britannia Education Trust</p>
                                    <ul class="list-disc list-inside text-gray-600 space-y-1">
                                        <li>Spearheaded NCCE Teach Computing curriculum implementation.</li>
                                        <li>Led school to achieve Google Reference School status (2018).</li>
                                        <li>Secured DfE funding as an 'EdTech Demonstrator school' (2020).</li>
                                        <li>Achieved Edufuturists Primary School of the Year award (2022).</li>
                                    </ul>
                                </div>
                            </div>

                            <!-- Timeline Item: Class Teacher -->
                            <div class="mb-8 pl-8">
                                <div class="absolute -left-4 mt-1.5 w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white">
                                    <i class="fas fa-chalkboard-teacher"></i>
                                </div>
                                <div class="bg-white rounded-xl shadow-md p-6">
                                    <p class="text-sm text-gray-500">2012 - 2014</p>
                                    <h3 class="text-xl font-bold text-gray-800 mt-1">Class Teacher</h3>
                                    <p class="font-semibold text-gray-700 mb-3">Britannia Village Primary School</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Education Section -->
                    <div class="mt-8">
                        <h2 class="text-3xl font-bold text-center text-gray-800 mb-8">Education</h2>
                        <div class="grid md:grid-cols-2 gap-6">
                            <div class="bg-white rounded-xl shadow-md p-6">
                                <h3 class="font-bold text-lg text-blue-600">Doctor of Education (EdD)</h3>
                                <p class="font-semibold">University of East London</p>
                                <p class="text-sm text-gray-500">2022 - Present</p>
                            </div>
                            <div class="bg-white rounded-xl shadow-md p-6">
                                <h3 class="font-bold text-lg text-blue-600">Master of Education (MEd)</h3>
                                <p class="font-semibold">University of East London</p>
                                <p class="text-sm text-gray-500">2014 - 2017</p>
                            </div>
                            <div class="bg-white rounded-xl shadow-md p-6 md:col-span-2">
                                <h3 class="font-bold text-lg text-blue-600">Bachelor of Education (BEd)</h3>
                                <p class="font-semibold">Middlesex University</p>
                                <p class="text-sm text-gray-500">2009 - 2012</p>
                            </div>
                        </div>
                    </div>

                    <!-- Skills & Expertise -->
                    <div class="mt-12">
                        <h2 class="text-3xl font-bold text-center text-gray-800 mb-8">Skills & Expertise</h2>
                        <div class="bg-white rounded-xl shadow-md p-8">
                            <div class="grid grid-cols-2 md:grid-cols-3 gap-8">
                                <div>
                                    <h4 class="font-bold text-lg text-gray-800 mb-2 border-b-2 border-purple-200 pb-1">Curriculum</h4>
                                    <ul class="list-disc list-inside text-gray-600 space-y-1">
                                        <li>NCCE Teach Computing</li>
                                        <li>Programming</li>
                                        <li>Physical Computing</li>
                                    </ul>
                                </div>
                                <div>
                                    <h4 class="font-bold text-lg text-gray-800 mb-2 border-b-2 border-purple-200 pb-1">EdTech</h4>
                                    <ul class="list-disc list-inside text-gray-600 space-y-1">
                                        <li>Google Certified Trainer</li>
                                        <li>Google Certified Innovator</li>
                                        <li>Google Apps Script</li>
                                        <li>Chromebooks</li>
                                    </ul>
                                </div>
                                <div>
                                    <h4 class="font-bold text-lg text-gray-800 mb-2 border-b-2 border-purple-200 pb-1">Leadership</h4>
                                    <ul class="list-disc list-inside text-gray-600 space-y-1">
                                        <li>Digital Strategy</li>
                                        <li>Teacher Training</li>
                                        <li>Workshop Facilitation</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

            <!-- Learning Page -->
            <!-- Learning Page -->
            <div id="learning" class="page fade-in">
                <div class="max-w-4xl mx-auto">
                    <!-- Page Title and Introduction -->
                    <div class="text-center mb-12">
                        <h1 class="text-3xl md:text-4xl font-bold text-gray-800 mb-4">Learning</h1>
                        <p class="max-w-2xl mx-auto text-gray-600">
                            Learning is not just for students. I love learning new things and then applying my new knowledge and skills in creative ways. Here are some of the things I have learnt and projects I have created.
                        </p>
                    </div>
                    <!-- Emoji Banner -->
                    <div class="flex justify-center items-start space-x-4 md:space-x-8 p-6 bg-white rounded-xl shadow-md mb-12">

                        <!-- Coding Emoji -->
                        <div class="emoji-container relative text-center cursor-pointer" data-target="coding-section">
                            <span class="text-5xl md:text-7xl inline-block transform transition-transform duration-200 hover:scale-125">üëæ</span>
                            <span class="emoji-label absolute -bottom-6 left-1/2 -translate-x-1/2 text-sm font-semibold text-gray-700 bg-gray-100 px-2 py-1 rounded-md shadow-sm">Coding</span>
                        </div>
                        <!-- Drumming Emoji -->
                        <div class="emoji-container relative text-center cursor-pointer" data-target="drumming-section">
                            <span class="text-5xl md:text-7xl inline-block transform transition-transform duration-200 hover:scale-125">ü•Å</span>
                            <span class="emoji-label absolute -bottom-6 left-1/2 -translate-x-1/2 text-sm font-semibold text-gray-700 bg-gray-100 px-2 py-1 rounded-md shadow-sm">Drumming</span>
                        </div>
                        <!-- Academic Emoji -->
                        <div class="emoji-container relative text-center cursor-pointer" data-target="academic-section">
                            <span class="text-5xl md:text-7xl inline-block transform transition-transform duration-200 hover:scale-125">üéì</span>
                            <span class="emoji-label absolute -bottom-6 left-1/2 -translate-x-1/2 text-sm font-semibold text-gray-700 bg-gray-100 px-2 py-1 rounded-md shadow-sm">Academic</span>
                        </div>
                        <!-- Reading Emoji -->
                        <div class="emoji-container relative text-center cursor-pointer" data-target="reading-section">
                            <span class="text-5xl md:text-7xl inline-block transform transition-transform duration-200 hover:scale-125">üìö</span>
                            <span class="emoji-label absolute -bottom-6 left-1/2 -translate-x-1/2 text-sm font-semibold text-gray-700 bg-gray-100 px-2 py-1 rounded-md shadow-sm">Reading</span>
                        </div>
                        <!-- Running Emoji -->
                        <div class="emoji-container relative text-center cursor-pointer" data-target="running-section">
                            <span class="text-5xl md:text-7xl inline-block transform transition-transform duration-200 hover:scale-125">üéΩ</span>
                            <span class="emoji-label absolute -bottom-6 left-1/2 -translate-x-1/2 text-sm font-semibold text-gray-700 bg-gray-100 px-2 py-1 rounded-md shadow-sm">Running</span>
                        </div>
                        <!-- Sudokus Emoji -->
                        <div class="emoji-container relative text-center cursor-pointer" data-target="sudokus-section">
                            <span class="text-5xl md:text-7xl inline-block transform transition-transform duration-200 hover:scale-125">#Ô∏è‚É£</span>
                            <span class="emoji-label absolute -bottom-6 left-1/2 -translate-x-1/2 text-sm font-semibold text-gray-700 bg-gray-100 px-2 py-1 rounded-md shadow-sm">Sudokus</span>
                        </div>
                    </div>

                    <!-- Accordion Container -->
                    <div class="space-y-4">


                        <!-- Coding Section -->
                        <div id="coding-section" class="accordion-item bg-white rounded-xl shadow-md overflow-hidden">
                            <button class="accordion-header w-full flex justify-between items-center text-left p-6 font-bold text-xl text-gray-800 hover:bg-gray-50 transition duration-300">
                                <div class="flex items-center">
                                    <span class="text-3xl mr-4">üëæ</span>
                                    <span>Coding</span>
                                </div>
                                <i class="fas fa-plus text-gray-500 accordion-icon"></i>
                            </button>
                            <div class="accordion-content">
                                <div class="accordion-content-wrapper px-6 pt-4 pb-6">
                                    <!-- This new div wraps all the content and ensures padding is respected -->
                                    <div class="space-y-8">
                                        <!-- Subheading 1: Learning the principles -->
                                        <div>
                                            <h3 class="text-2xl font-bold text-gray-800 mb-3">Learning the Principles</h3>
                                            <p class="text-gray-700 mb-4">
                                                My journey into coding began out of necessity when the English National Curriculum introduced programming principles like sequence, selection, and repetition. I started by using Scratch to create fun, engaging projects, which became a powerful tool for teaching these abstract concepts to students and for training other teachers on how to approach the new curriculum. Have a look at one of my games below and click the green flag to play. Can you unlock the secret prize by clicking the cat enough?
                                            </p>
                                            <div class="w-full max-w-lg mx-auto rounded-lg overflow-hidden shadow-lg">
                                                <iframe src="https://scratch.mit.edu/projects/1143252206/embed" allowtransparency="true" width="485" height="402" frameborder="0" scrolling="no" allowfullscreen></iframe>
                                            </div>
                                        </div>

                                        <!-- Subheading 2: Using Apps Script -->
                                        <div>
                                            <h3 class="text-2xl font-bold text-gray-800 mb-3">Applying Skills with Apps Script</h3>
                                            <p class="text-gray-700 mb-4">
                                                After getting comfortable with the logic of programming, I took a free online course, <a href="https://courses.benlcollins.com/p/apps-script-blastoff" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:underline">Apps Script Blastoff</a> by Ben Collins. This opened my eyes to the power of automation within Google Workspace, and I quickly began creating useful projects and tools to solve real-world problems at my school.
                                            </p>
                                            <div class="w-full mx-auto rounded-lg overflow-hidden shadow-lg" style="aspect-ratio: 16 / 9;">
                                                <iframe class="w-full h-full" src="https://www.youtube.com/embed/9UddsztXinU" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                                            </div>
                                        </div>

                                        <!-- Subheading 3: Sharing My Projects -->
                                        <div>
                                            <h3 class="text-2xl font-bold text-gray-800 mb-3">Sharing My Projects</h3>
                                            <p class="text-gray-700 mb-4">
                                                As I developed more tools, I collaborated with a friend to create <a href="https://www.eduscripts.uk/about" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:underline">EduScripts.uk</a>, a website to share our creations for free with a wider audience of educators. I also created <a href="https://sites.google.com/npwinet.co.uk/automationsuite/home" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:underline">The Automation Suite</a> which schools can purchase to automate processes at their school. This pushed me to learn how to publish official add-ons to the Google Workspace Marketplace, which have now been installed by educators all over the world.
                                            </p>
                                            <div class="grid md:grid-cols-3 gap-4 text-center">
                                                <div class="bg-gray-50 rounded-lg p-4 flex flex-col items-center">
                                                    <img src="https://lh3.googleusercontent.com/-GDyPLBNzIl8/YORukbzFlGI/AAAAAAAAAOo/GRGfABWQ0b8mbvLo424BSfjSGyVkmQSPwCLcBGAsYHQ/Comment%2BBank%2BLogo%2B32.png" alt="Comment Bank Icon" class="w-14 h-14 rounded-lg mb-3 shadow-md">
                                                    <p class="font-bold text-lg text-gray-800">Comment Bank</p>
                                                    <p class="text-2xl font-light text-blue-600">97k+</p>
                                                    <p class="text-sm text-gray-500 mb-2">Installs</p>
                                                    <a href="https://workspace.google.com/marketplace/app/comment_bank/1066703348647" target="_blank" rel="noopener noreferrer" class="text-sm text-blue-600 hover:underline mt-auto">View Add-on &rarr;</a>
                                                </div>
                                                <div class="bg-gray-50 rounded-lg p-4 flex flex-col items-center">
                                                    <img src="https://lh3.googleusercontent.com/-9WKdYIT2hoU/YDpToWAzT8I/AAAAAAAAABA/OuALLx85UgER97_XbTraiEeYg_If5vn2gCLcBGAsYHQ/128x128%2BOnline%2BRegister%2BLogo%2B%2Bbigger.png" alt="Online Register Icon" class="w-14 h-14 rounded-lg mb-3 shadow-md">
                                                    <p class="font-bold text-lg text-gray-800">Online Register</p>
                                                    <p class="text-2xl font-light text-blue-600">150k+</p>
                                                    <p class="text-sm text-gray-500 mb-2">Installs</p>
                                                    <a href="https://workspace.google.com/marketplace/app/online_register_for_google_classroom/814234374907" target="_blank" rel="noopener noreferrer" class="text-sm text-blue-600 hover:underline mt-auto">View Add-on &rarr;</a>
                                                </div>
                                                <div class="bg-gray-50 rounded-lg p-4 flex flex-col items-center">
                                                    <img src="https://lh3.googleusercontent.com/-ud0F0OzIsfI/YH18yA_ubiI/AAAAAAAAAKY/RLwKhOnURn0abf1QlhwtGFvfTdJGgSYQgCLcBGAsYHQ/New%2BSheet%2Bto%2BMeet.png" alt="Sheet to Meet Icon" class="w-14 h-14 rounded-lg mb-3 shadow-md">
                                                    <p class="font-bold text-lg text-gray-800">Sheet to Meet</p>
                                                    <p class="text-2xl font-light text-blue-600">50k+</p>
                                                    <p class="text-sm text-gray-500 mb-2">Installs</p>
                                                    <a href="https://workspace.google.com/marketplace/app/sheet_to_meet/250163384083" target="_blank" rel="noopener noreferrer" class="text-sm text-blue-600 hover:underline mt-auto">View Add-on &rarr;</a>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Subheading 4: Advanced Learning -->
                                        <div>
                                            <h3 class="text-2xl font-bold text-gray-800 mb-3">Advanced Learning</h3>
                                            <p class="text-gray-700">
                                                To deepen my understanding of computer science, I am currently about halfway through <a href="https://cs50.harvard.edu/x/2025/" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:underline">Harvard's famous CS50 course</a>. This is challenging me to learn more complex data structures, algorithms, and lower-level programming concepts.
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>


                        <!-- Other accordion items with their new IDs -->
                        <div id="drumming-section" class="accordion-item bg-white rounded-xl shadow-md overflow-hidden">
                            <button class="accordion-header w-full flex justify-between items-center text-left p-6 font-bold text-xl text-gray-800 hover:bg-gray-50 transition duration-300">
                                <div class="flex items-center">
                                    <span class="text-3xl mr-4">ü•Å</span>
                                    <span>Drumming</span>
                                </div>
                                <i class="fas fa-plus text-gray-500 accordion-icon"></i>
                            </button>
                            <div class="accordion-content">
                                <div class="accordion-content-wrapper p-6">
                                    <!-- This new div wraps all the content and ensures padding is respected -->
                                    <div class="space-y-8">
                                        <!-- Intro and Image -->
                                        <div class="flex flex-col md:flex-row gap-6 items-start">
                                            <div class="md:w-2/3">
                                                <p class="text-gray-700 mb-4">
                                                    I started learning the drums when I was a teenager playing in church, and I took Music Tech at Sixth Form. I joined a band with old school mates and we played a few gigs in pubs and empty school halls. Then one day we got invited to Sweden to record a few songs for some student audio engineers.
                                                </p>
                                                <p class="text-gray-700 mb-4">
                                                    I continue to play the drums weekly in church and I give drumming lessons to kids kicked out of school through <a href="https://www.communityalbums.com/" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:underline">Community Albums</a>. When I got older I joined a more serious band and we played some gigs at pubs and weddings that we actually got paid for. I also play drums with my brother in law Seyi and we went to a recording studio for his birthday.
                                                </p>
                                                <p class="text-gray-700">
                                                    Some of these songs are below and I am still waiting to make the big time one of these days...
                                                </p>
                                            </div>
                                            <div class="md:w-1/3 w-full">
                                                <img src="https://lh3.googleusercontent.com/pw/AP1GczPQxNOhW2DjuYxoUInWi3HWt2OkeiS12Z-EVoDB3TWppp82PyXJX6HmxnwNcFRC8DGMP5ZCEfbbvvcJ2JO_U6atVrwLwtcZ3j9cZyicE9SbLtYupug7Na5URpbB0rxB0rTorRlxkjqCPzbKZ-QC1p2WMQ=w1872-h1404-s-no-gm?authuser=0" alt="A photo of a drum kit" class="rounded-lg shadow-lg w-full" onerror="this.onerror=null;this.src='https://placehold.co/600x400/cccccc/ffffff?text=Drum+Kit';">
                                            </div>
                                        </div>


                                        <!-- Section 2: Seyi's Birthday -->
                                        <div>
                                            <h3 class="text-2xl font-bold text-gray-800 mb-4">Seyi's Birthday at the Recording Studio</h3>
                                            <div class="space-y-4">
                                                <iframe width="100%" height="166" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/2121665937&amp;color=%2300aabb&amp;auto_play=false&amp;hide_related=true&amp;show_comments=false&amp;show_user=true&amp;show_reposts=false&amp;show_teaser=false"></iframe>
                                                <iframe width="100%" height="166" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/2121665931&amp;color=%2300aabb&amp;auto_play=false&amp;hide_related=true&amp;show_comments=false&amp;show_user=true&amp;show_reposts=false&amp;show_teaser=false"></iframe>
                                            </div>
                                        </div>

                                        <!-- Section 3: Missing Pieces -->
                                        <div>
                                            <h3 class="text-2xl font-bold text-gray-800 mb-4">Missing Pieces - A More Serious Band</h3>
                                            <div class="space-y-4">
                                                <iframe width="100%" height="166" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/2121665262&amp;color=%2300aabb&amp;auto_play=false&amp;hide_related=true&amp;show_comments=false&amp;show_user=true&amp;show_reposts=false&amp;show_teaser=false"></iframe>
                                                <iframe width="100%" height="166" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/2121665256&amp;color=%2300aabb&amp;auto_play=false&amp;hide_related=true&amp;show_comments=false&amp;show_user=true&amp;show_reposts=false&amp;show_teaser=false"></iframe>
                                            </div>
                                        </div>

                                        <!-- Section 1: High Voltage -->
                                        <div>
                                            <h3 class="text-2xl font-bold text-gray-800 mb-4">High Voltage ‚ö°Ô∏è Rock and Roll</h3>
                                            <div class="space-y-4">
                                                <iframe width="100%" height="166" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/2121664773&amp;color=%2300aabb&amp;auto_play=false&amp;hide_related=true&amp;show_comments=false&amp;show_user=true&amp;show_reposts=false&amp;show_teaser=false"></iframe>
                                                <iframe width="100%" height="166" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/2121664776&amp;color=%2300aabb&amp;auto_play=false&amp;hide_related=true&amp;show_comments=false&amp;show_user=true&amp;show_reposts=false&amp;show_teaser=false"></iframe>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>

                        <div id="academic-section" class="accordion-item bg-white rounded-xl shadow-md overflow-hidden">
                            <button class="accordion-header w-full flex justify-between items-center text-left p-6 font-bold text-xl text-gray-800 hover:bg-gray-50 transition duration-300">
                                <div class="flex items-center">
                                    <span class="text-3xl mr-4">üéì</span>
                                    <span>Academic</span>
                                </div>
                                <i class="fas fa-plus text-gray-500 accordion-icon"></i>
                            </button>
                            <div class="accordion-content"> <!-- The old animation classes are removed -->
                                <div class="accordion-content-wrapper p-6">
                                    <!-- New Academic Content Starts Here -->
                                    <div class="space-y-8">

                                        <!-- Intro and TED Talk -->
                                        <div>
                                            <p class="text-gray-700 mb-4">
                                                Having watched the brilliant TED talk by Sir Ken Robinson, 'Do schools kill creativity?', and seeing first-hand in my own classroom how exams and revision can take priority over creative activities, I was inspired to research student creativity.
                                            </p>
                                            <div class="w-full mx-auto rounded-lg overflow-hidden shadow-lg mb-6" style="aspect-ratio: 16 / 9;">
                                                <iframe class="w-full h-full" src="https://www.youtube.com/embed/iG9CE55wbtY" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                                            </div>
                                            <p class="text-gray-700">
                                                I completed a part-time Masters with UEL between 2014-2017, learning more about creativity and the various theories of how to enhance it. A few years later, I took an online course called <a href="https://lcl.media.mit.edu/" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:underline">Learn Creative Learning</a>, which was developed by Mitchel Resnick and MIT (who also created Scratch). After taking the course and reading his book 'Lifelong Kindergarten', I was inspired to get back into academia.
                                            </p>
                                        </div>

                                        <!-- Doctorate and Posters -->
                                        <div>
                                            <h3 class="text-2xl font-bold text-gray-800 mb-3">Doctoral Research</h3>
                                            <p class="text-gray-700 mb-4">
                                                In 2022, I enrolled on a Professional Doctorate with UEL. My research is focused on how best to enhance student creativity, and I intend to do action research over the course of 12 weeks by running an after-school "Creativity Playground" club. For more information about the club, take a look at the posters below.
                                            </p>
                                            <div class="grid md:grid-cols-2 gap-6">
                                                <!-- Poster 1 with Magnifier Container -->
                                                <div class="magnify-container">
                                                    <a href="https://lh3.googleusercontent.com/pw/AP1GczMFg9hx6oHv2olIx4K-kx_tpFX9owoBx4bcFdgaLxmELkhzf9IGcYI-tEvvZL1-tQELgXqukcJIXzO7HRXho_dTxZOoD1g9HYqDGCgevygTxq-dPTMWVFmE-u_gexVUc1XkW5WIhViqPUVllNCoQ-2xGQ=w992-h1404-s-no-gm?authuser=0" target="_blank" rel="noopener noreferrer">
                                                        <img id="poster1" src="https://lh3.googleusercontent.com/pw/AP1GczMFg9hx6oHv2olIx4K-kx_tpFX9owoBx4bcFdgaLxmELkhzf9IGcYI-tEvvZL1-tQELgXqukcJIXzO7HRXho_dTxZOoD1g9HYqDGCgevygTxq-dPTMWVFmE-u_gexVUc1XkW5WIhViqPUVllNCoQ-2xGQ=w992-h1404-s-no-gm?authuser=0" alt="Creativity Playground Poster 1" class="rounded-lg shadow-md w-full">
                                                    </a>
                                                    <div class="magnify-lens"></div>
                                                </div>
                                                <!-- Poster 2 with Magnifier Container -->
                                                <div class="magnify-container">
                                                    <a href="https://lh3.googleusercontent.com/pw/AP1GczP3JEIHn3fgSIVSUb7cvDyN7Xm-W_fVckxNWFqeqE4d9Ug8gqbT5KUPVnXFkxTGps6RdQNY_XZoyM2p4lvOf8PV9l-ituPS-cQgl1biqaEinWP7iayeRNQ-YngAriGFpIFRiIP7-NO5p9s3WdvzjlsZRA=w992-h1404-s-no-gm?authuser=0" target="_blank" rel="noopener noreferrer">
                                                        <img id="poster2" src="https://lh3.googleusercontent.com/pw/AP1GczP3JEIHn3fgSIVSUb7cvDyN7Xm-W_fVckxNWFqeqE4d9Ug8gqbT5KUPVnXFkxTGps6RdQNY_XZoyM2p4lvOf8PV9l-ituPS-cQgl1biqaEinWP7iayeRNQ-YngAriGFpIFRiIP7-NO5p9s3WdvzjlsZRA=w992-h1404-s-no-gm?authuser=0" alt="Creativity Playground Poster 2" class="rounded-lg shadow-md w-full">
                                                    </a>
                                                    <div class="magnify-lens"></div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Conclusion -->
                                        <div>
                                            <p class="text-gray-700 text-center italic">
                                                My studies should be complete by 2027 if all goes to plan! :D
                                            </p>
                                        </div>

                                    </div>
                                    <!-- New Academic Content Ends Here -->
                                </div>
                            </div>
                        </div>

                        <!-- Reading Section -->
                        <div id="reading-section" class="accordion-item bg-white rounded-xl shadow-md overflow-hidden">
                            <button class="accordion-header w-full flex justify-between items-center text-left p-6 font-bold text-xl text-gray-800 hover:bg-gray-50 transition duration-300">
                                <div class="flex items-center">
                                    <span class="text-3xl mr-4">üìö</span>
                                    <span>Reading</span>
                                </div>
                                <i class="fas fa-plus text-gray-500 accordion-icon"></i>
                            </button>
                            <div class="accordion-content"> <!-- The old animation classes are removed -->
                                <div class="accordion-content-wrapper p-6">
                                    <p class="text-gray-700">I learn so much from reading. Reading is probably my favourite thing to do. When I get home from school, I sit in my comfortable arm chair or in the garden if the weather is nice and I read a book. There was a time I would get through 52 books each year but I haven't done that for a while now which is a shame. <br><br>I intended to select some of my favourite books and add them here but it is too hard to choose. You can see what I have read on my <a href="https://www.goodreads.com/review/list/33842579-luke-craig?utf8=%E2%9C%93&order=d&sort=rating&view=reviews&title=luke-craig&per_page=infinite" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:underline">Goodreads review page</a> and sort by date or stars to see my faves (or the books I disliked).</p>
                                </div>
                            </div>
                        </div>

                        <div id="running-section" class="accordion-item bg-white rounded-xl shadow-md overflow-hidden">
                            <button class="accordion-header w-full flex justify-between items-center text-left p-6 font-bold text-xl text-gray-800 hover:bg-gray-50 transition duration-300">
                                <div class="flex items-center">
                                    <span class="text-3xl mr-4">üéΩ</span>
                                    <span>Running</span>
                                </div>
                                <i class="fas fa-plus text-gray-500 accordion-icon"></i>
                            </button>
                            <div class="accordion-content"> <!-- The old animation classes are removed -->
                                <div class="accordion-content-wrapper p-6">
                                    <!-- New Running Content Starts Here -->
                                    <div class="space-y-8">

                                        <!-- Introduction -->
                                        <div>
                                            <p class="text-gray-700">
                                                Although running isn't really learning in the traditional sense, there are lots of similarities: it's hard; you get out what you put in; and the more you do it, the more you want to do it. So, I've included it in this section.
                                            </p>
                                        </div>

                                        <!-- The Turning Point -->
                                        <div>
                                            <h3 class="text-2xl font-bold text-gray-800 mb-3">The Turning Point</h3>
                                            <p class="text-gray-700 mb-4">
                                                Until the age of 26, I was a bit of a lazy slob and rarely did any exercise except the occasional game of football. Then I decided to start training for a triathlon. I really struggled at first, but eventually found that the training was having a huge positive impact on my health and mood. I completed more triathlons (Croyde, Slateman, London) and at the age of 29, I decided I wanted to do something big for my 30th.
                                            </p>
                                            <p class="text-gray-700">
                                                I signed up for the Arctic Triple extreme distance triathlon in Lofoten, northern Norway. This was a ridiculous decision and the training was immense, but I did finish the triathlon (4km swim, 196km bike, 45km run) in about 16 hours on the very day of my 30th birthday. After that, I decided running was my preferred discipline and have been chasing speed or distance goals ever since.
                                            </p>
                                        </div>

                                        <!-- Personal Bests Table -->
                                        <div>
                                            <h3 class="text-2xl font-bold text-gray-800 mb-3">Chasing Speed</h3>
                                            <div class="overflow-x-auto bg-gray-50 p-4 rounded-lg">
                                                <table class="w-full text-left">
                                                    <thead class="border-b-2 border-gray-200">
                                                        <tr>
                                                            <th class="p-2 font-semibold">Distance</th>
                                                            <th class="p-2 font-semibold">Personal Best</th>
                                                            <th class="p-2 font-semibold">Goal</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody class="divide-y divide-gray-200">
                                                        <tr>
                                                            <td class="p-2">5km</td>
                                                            <td class="p-2">17:09</td>
                                                            <td class="p-2 text-gray-500">16:40</td>
                                                        </tr>
                                                        <tr>
                                                            <td class="p-2">10km</td>
                                                            <td class="p-2">36:39</td>
                                                            <td class="p-2 text-gray-500">35:00</td>
                                                        </tr>
                                                        <tr>
                                                            <td class="p-2">Half Marathon</td>
                                                            <td class="p-2">1:23:50</td>
                                                            <td class="p-2 text-gray-500">1:20:00</td>
                                                        </tr>
                                                        <tr>
                                                            <td class="p-2">Marathon</td>
                                                            <td class="p-2">3:15:54</td>
                                                            <td class="p-2 text-gray-500">2:50:00</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>

                                        <!-- Ultra Distance Challenges -->
                                        <div>
                                            <h3 class="text-2xl font-bold text-gray-800 mb-3">Pushing the Distance</h3>
                                            <p class="text-gray-700 mb-4">
                                                In terms of distance, I completed three 50-mile ultras in 2021 (Kent, Norfolk Coast Path, and Dartmoor) and then signed up to The Northern Traverse - a 5-day, 190-mile ultra crossing the UK from St Bees to Robin Hood's Bay via The Lake District, The Yorkshire Dales, and The North York Moors. It was a brilliant experience and I quickly signed up for an even bigger challenge: Crossing Switzerland. This was a 7-day, 240-mile ultra along the Via Alpina in the Alps with 24,000m of elevation. It was another ridiculous challenge and something I am proud to have completed.<br><br>In 2024 I Also signed up to a 100 mile race with 9000m elevation in Patagonia, Argentina. Starting at 15:00 on the side of a mountain in the Andes, I spent 36 hours running, walking and shuffling until I crossed the finish line at 03:00, a day and half later. This was the longest time I had ever gone without sleep and I had many strange hallucinations as it was getting dark on the second night! The steak and beer the next day tasted amazing.<br><br>A few months later I made my attempt on the Bob Graham Round. This is one of the three UK mountain rounds and it includes about 100km of running over 42 of the Lake District peaks with 8000m elevation. I had been fascinated with the challenge since reading <a href="https://en.wikipedia.org/wiki/Feet_in_the_Clouds" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:underline">Feet in the Clouds</a> a few years before and had been recceing the routes for years. To successfully complete the round and join the prestigious <a href="http://bobgrahamclub.org.uk/index.php?page=memdata&mem=2835" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:underline">Bob Graham Club</a>, you need to complete the circuit in under 24 hours. After a lot of logistics planning, support from strangers I'd never met and a very generous mum who did all the support driving, I left the Moot Hall in Keswick at 00:00 and returned to the same Moot Hall at 23:47 with exactly 13 minutes to spare. To read a more in depth write up of my day, see the bottom of this section. It was a real adventure and probably the most difficult of all my challenges. So far...
                                            </p>
                                            <p class="text-gray-700 font-semibold">Next up: Budapest marathon in October, aiming for sub-3 hours!</p>
                                        </div>

                                        <!-- Giving Back -->
                                        <div>
                                            <h3 class="text-2xl font-bold text-gray-800 mb-3">Giving Back</h3>
                                            <p class="text-gray-700">
                                                I also achieved my run leader qualification with my local running club, <a href="https://www.eerr.org.uk/" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:underline">East End Road Runners</a>, and I enjoy leading various runs with them as a volunteer.<br><br>
                                            </p>
                                            <h3 class="text-2xl font-bold text-gray-800 mb-3">A summary of my BGR journey and attempt on Sunday 26/5/24: </h3>
                                            <p class="text-gray-500 italic">

                                                When I first read feet in the clouds I thought the author was mad to attempt something as hard as the Bob Graham round. But just like in the book, a small idea was planted in the back of my mind...<br><br>

                                                After that I started travelling up to the lakes from London to do recces when I could. This confirmed it definitely was mad. I couldn't do one leg in the time needed for a 24 hr schedule. The boulders, the bogs, the weather, the navigation, the remoteness of the checkpoints, they all proved how mad it was.<br><br>

                                                But I kept getting drawn back, recceing other legs just to see. I eventually tried double leg recces which killed me, and running sections with others who knew the routes well which gave me hope I could learn. I brought friends up and they suffered and said they'd never come back. I sat in traffic jams on Friday evenings, arriving at our hostel gone midnight.<br><br>

                                                Anyway, long story short, on Sunday I left the Moot hall at 00:00 and on Sunday I got back to the Moot hall at 23:47.<br><br>

                                                I had originally planned to do most of the route solo (mainly because I didn't know anyone with any knowledge of the BG) but now I am certain that I would not have got round without the amazing supporters on each leg.<br><br>

                                                Mark D, Ian, Caroline, Katrina, Mark M and Rich, you were all invaluable and I will remember that day forever and the part that you each played. That some of you responded to a stranger's request to run for hours in the rain and mist for no other reason than to help me reach my goal blows me away. Rich especially, your support on leg 4 and 5 was vital and you told me exactly what I needed to hear when I was feeling rotten and time was looking tight.<br><br>

                                                I also couldn't have done it without my lovely mum who spent the whole day driving around on road support, making me fresh flasks of tea that I didn't touch, picking up, dropping off and mostly waiting around in the cold for me to rush in, demand something and rush off again. I am so grateful that you played such an important role in this and everyone told me how amazing you are.<br><br>

                                                And finally, in true feet in the cloud style, I staggered from the car to the bunkhouse covered in mud, sweat and dried blood only to discover that the hot water wasn't working. I went to bed in my filth and slept with a smile on my face.<br><br>

                                                To all aspiring BG members, keep going even when it feels overwhelming. The feeling at the end and in the days that follow makes it all worthwhile.<br><br>

                                                To all existing BG members who share their knowledge, expertise and time so generously, you are a special group of people and it means so much.<br><br>

                                                Thank you for reading<br><br>

                                                Luke
                                            </p>

                                        </div>
                                    </div>
                                    <!-- New Running Content Ends Here -->
                                </div>
                            </div>
                        </div>

                        <div id="sudokus-section" class="accordion-item bg-white rounded-xl shadow-md overflow-hidden">
                            <button class="accordion-header w-full flex justify-between items-center text-left p-6 font-bold text-xl text-gray-800 hover:bg-gray-50 transition duration-300">
                                <div class="flex items-center">
                                    <span class="text-3xl mr-4">#Ô∏è‚É£</span>
                                    <span>Sudoku</span>
                                </div>
                                <i class="fas fa-plus text-gray-500 accordion-icon"></i>
                            </button>
                            <div class="accordion-content"> <!-- The old animation classes are removed -->
                                <div class="accordion-content-wrapper p-6">
                                    <!-- New Sudoku Content Starts Here -->
                                    <div class="space-y-8">

                                        <!-- Introduction -->
                                        <div>
                                            <h3 class="text-2xl font-bold text-gray-800 mb-3">Cracking The Cryptic</h3>
                                            <p class="text-gray-700">
                                                I first got into advanced Sudoku by watching the brilliant <a href="https://www.youtube.com/c/CrackingTheCryptic" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:underline">Cracking The Cryptic</a> YouTube channel. I loved the buzz of making small breakthroughs in a puzzle and getting onto the next part, even if sometimes I couldn't complete them. By watching the videos, I learned more advanced solving techniques, and sometimes I even discovered my own.
                                            </p>
                                        </div>

                                        <!-- Zetamath's Puzzle -->
                                        <div>
                                            <h3 class="text-2xl font-bold text-gray-800 mb-3">A Beautiful Puzzle</h3>
                                            <p class="text-gray-700 mb-4">
                                                The first really satisfying puzzle that I solved which was challenging but beautifully created was Zetamath's "Two truths and a lie". Click the image below to read the rules and have a go yourself (or even watch someone else solve it).
                                            </p>
                                            <div class="w-full max-w-md mx-auto rounded-lg overflow-hidden shadow-lg">
                                                <!-- !! REPLACE THIS SRC WITH YOUR PUBLIC SCREENSHOT URL !! -->
                                                <a href="https://sudokupad.app/NFhHj2bQ2g" target="_blank" rel="noopener noreferrer">
                                                    <img src="https://i.ibb.co/PvhD7M8V/Screenshot-2025-07-02-at-21-11-24.png" alt="Screenshot of Zetamath's Two truths and a lie sudoku" class="w-full" onerror="this.onerror=null;this.src='https://placehold.co/600x600/cccccc/ffffff?text=Sudoku+Puzzle';">
                                                </a>
                                            </div>
                                        </div>

                                        <!-- Phistomefel's Pack -->
                                        <!-- Phistomefel's Pack -->
                                        <div>
                                            <h3 class="text-2xl font-bold text-gray-800 mb-3">The Ancient Wall</h3>
                                            <p class="text-gray-700 mb-4">
                                                The most difficult pack I ever solved was by Phistomefel, who is widely regarded as one of the world's best setters. His pack of hybrid sudokus culminated in the fiendishly difficult <a href="https://sudokupad.app/bFgHtLg373" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:underline">The Ancient Wall</a>.
                                            </p>
                                            <div class="w-full max-w-md mx-auto rounded-lg overflow-hidden shadow-lg">
                                                <a href="https://sudokupad.app/bFgHtLg373" target="_blank" rel="noopener noreferrer">
                                                    <img src="https://i.ibb.co/4gYyDSPf/Screenshot-2025-07-02-at-21-10-31.png" alt="Screenshot of Phistomefel's The Ancient Wall sudoku" class="w-full" onerror="this.onerror=null;this.src='https://placehold.co/600x600/cccccc/ffffff?text=Sudoku+Puzzle';">
                                                </a>
                                            </div>
                                            <p class="text-gray-700 mt-4">
                                                I love solving puzzles, and one day I hope to learn how to set one of these myself.
                                            </p>
                                        </div>

                                    </div>
                                    <!-- New Sudoku Content Ends Here -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Adventures Page -->
            <div id="adventures" class="page fade-in">
                <div class="max-w-6xl mx-auto">
                    <!-- Page Title and Introduction -->
                    <div class="text-center mb-8">
                        <h1 class="text-3xl md:text-4xl font-bold text-gray-800 mb-4">Adventure Log</h1>
                        <p class="max-w-2xl mx-auto text-gray-600">
                            A collection of challenges and journeys from around the world. Click on a pin or a card to explore an adventure.
                        </p>
                    </div>

                    <!-- View Toggle Switch -->
                    <div class="flex justify-center mb-8">
                        <div class="flex items-center space-x-2 bg-gray-200 p-1 rounded-full">
                            <button id="map-view-btn" class="view-toggle-btn active px-4 py-1 rounded-full text-sm font-semibold">Map View</button>
                            <button id="grid-view-btn" class="view-toggle-btn px-4 py-1 rounded-full text-sm font-semibold">Tile View</button>
                        </div>
                    </div>

                    <!-- Map Container -->
                    <div id="map-container" class="relative w-full max-w-5xl mx-auto rounded-xl shadow-lg overflow-hidden" style="aspect-ratio: 16/9;">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/d/d3/BlankMap-World-2005.png" alt="World Map" class="absolute inset-0 w-full h-full object-cover">
                        <svg id="map-lines-svg" class="absolute inset-0 w-full h-full pointer-events-none z-[5]"></svg>
                        <!-- Pins will be dynamically inserted here by JavaScript -->
                    </div>

                    <!-- Adventure Grid (initially hidden) -->
                    <div id="adventure-grid" class="grid grid-cols-2 md:grid-cols-4 xl:grid-cols-5 gap-4 hidden">
                        <!-- Adventure cards will be dynamically inserted here by JavaScript -->
                    </div>
                </div>

                <!-- Modal Container -->
                <div id="adventure-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50 hidden transition-opacity duration-300">
                    <button id="modal-close-btn" class="absolute top-4 right-4 w-10 h-10 bg-white text-gray-700 rounded-full text-2xl leading-none shadow-lg z-10 flex items-center justify-center">&times;</button>
                    <div id="modal-content" class="bg-white rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto transform scale-95 transition-transform duration-300">
                        <div id="modal-body"></div>
                    </div>
                </div>
            </div>


            <!-- Future Page -->
            <div id="future" class="page fade-in">
                <div class="max-w-4xl mx-auto text-center">

                    <!-- Introduction -->
                    <div class="bg-white rounded-xl shadow-md p-6 mb-8">
                        <h1 class="text-3xl md:text-4xl font-bold text-gray-800 mb-4">Future Goals</h1>
                        <p class="text-gray-600">
                            There are lots of things I still want to do, learn, and create. Click the spinner below to find out about them. I hope lots of these will one day make it to one of my other tabs.
                        </p>
                    </div>

                    <!-- Goal Display Area -->
                    <div class="bg-white rounded-xl shadow-md p-6 mb-8 min-h-[120px] flex items-center justify-center">
                        <p id="goal-display" class="text-lg text-gray-700 transition-opacity duration-300">
                            One of my more exciting ideas is that one day I want all students to have the chance to create some kind of portfolio of the things they are proud of, a little bit like this site. Something they could use in interviews, but also something which will make them see all the amazing stuff they have done all in one place.
                        </p>
                    </div>

                    <!-- Spinner Container -->
                    <div class="relative inline-flex flex-col items-center justify-center">
                        <!-- Pointer at the top -->
                        <div class="absolute -top-2 z-20 w-0 h-0 border-x-8 border-x-transparent border-t-[16px] border-t-gray-700"></div>

                        <!-- Spinner Canvas -->
                        <div class="relative w-80 h-80 md:w-96 md:h-96">
                            <canvas id="spinner-canvas"></canvas>
                        </div>

                        <!-- Spin Button -->
                        <button id="spin-button" class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-20 h-20 bg-white rounded-full font-bold text-xl text-blue-600 shadow-lg border-4 border-blue-200 hover:bg-blue-50 transition duration-300 transform hover:scale-110">
                            Spin!
                        </button>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <script>
        const correctPassword = "adventures";
        const passwordScreen = document.getElementById("password-screen");
        const mainContent = document.getElementById("main-content");
        const passwordInput = document.getElementById("password");
        const submitButton = document.getElementById("submit-password");
        const passwordError = document.getElementById("password-error");

        submitButton.addEventListener("click", checkPassword);
        passwordInput.addEventListener("keypress", function(event) {
            if (event.key === "Enter") {
                checkPassword();
            }
        });

        // --- REFINED CONFETTI JAVASCRIPT ---

        function fireConfettiCannon(originX, originY) {
            const confettiContainer = document.body;
            const confettiCount = 60;
            const colors = ['#f44336', '#e91e63', '#9c27b0', '#673ab7', '#3f51b5', '#2196f3', '#ffeb3b', '#ff9800', '#4caf50'];
            const gravity = 0.3;

            for (let i = 0; i < confettiCount; i++) {
                const particle = document.createElement('div');
                particle.classList.add('confetti');
                particle.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];

                particle.style.left = originX + 'px';
                particle.style.top = originY + 'px';
                confettiContainer.appendChild(particle);

                // --- ADJUSTED PHYSICS PARAMETERS ---
                // 1. Reduced upward velocity for a less powerful burst
                let vy = -(Math.random() * 8 + 6); // Was: * 15 + 10
                let vx;

                // 2. Corrected logic to ensure cannons fire outwards
                let baseVx = Math.random() * 6 + 4; // Was: * 10 + 5

                if (originX > window.innerWidth / 2) {
                    // Right cannon fires right (positive vx)
                    vx = baseVx;
                } else {
                    // Left cannon fires left (negative vx)
                    vx = -baseVx;
                }

                let totalX = 0;
                let totalY = 0;
                let rotation = Math.random() * 360;
                const rotationSpeed = Math.random() * 10 - 5;


                function update() {
                    vy += gravity;

                    totalX += vx;
                    totalY += vy;
                    rotation += rotationSpeed;

                    particle.style.transform = `translate(${totalX}px, ${totalY}px) rotate(${rotation}deg)`;

                    if (originY + totalY > window.innerHeight + 20) {
                        particle.remove();
                    } else {
                        requestAnimationFrame(update);
                    }
                }

                requestAnimationFrame(update);
            }
        }

        function checkPassword() {
            if (passwordInput.value === correctPassword) {
                const rect = passwordInput.getBoundingClientRect();
                fireConfettiCannon(rect.left, rect.top + rect.height / 2);
                fireConfettiCannon(rect.right, rect.top + rect.height / 2);

                setTimeout(() => {
                    passwordScreen.classList.add("hidden");
                    mainContent.classList.remove("hidden");
                }, 500);

            } else {
                passwordError.classList.remove("hidden");
                passwordInput.value = "";
                setTimeout(() => {
                    passwordError.classList.add("hidden");
                }, 3000);
            }
        }

        // Navigation functionality
        const navLinks = document.querySelectorAll(".nav-link");
        const pages = document.querySelectorAll(".page");

        navLinks.forEach(link => {
            link.addEventListener("click", function(e) {
                e.preventDefault();
                const targetPage = this.getAttribute("data-page");

                navLinks.forEach(link => link.classList.remove("active"));
                this.classList.add("active");

                pages.forEach(page => {
                    page.classList.remove("active");
                    if (page.id === targetPage) {
                        page.classList.add("active");

                        // --- THIS IS THE NEW PART ---
                        if (targetPage === 'adventures') {
                            initializeAdventureMap();
                        }
                        if (targetPage === 'future') {
                            initializeSpinner();
                        }
                        // --- END OF NEW PART ---
                    }
                });
            });
        });
        // --- SLIDESHOW LOGIC ---

        // !! REPLACE THESE WITH YOUR IMAGE URLS FROM GOOGLE PHOTOS !!
        const imageUrls = [
            //Mizmal
            'https://lh3.googleusercontent.com/pw/AP1GczPigD1C6ST6BLaRJXkuh43xpBn9fFPnXDbefYgwFZYukkk-ZW4RizuRMpAiwgaDpGoYe8dPa_TsAGWg7jYdE5YI9bWCetKuWGPu2d4_739H62ygpiNUwIHoyIgTuuj8bDtQLHjuh-EHOcVfNrF0-Ym2aA=w1404-h1404-s-no-gm?authuser=0',
            //Turtle
            'https://lh3.googleusercontent.com/pw/AP1GczPBz2fzL_13dIaXFazqm7DGAJ2TzxAckPmXzO8lrYCivVzHC6t3f_YNQYZGSBbYw1qcLRYtYvUpgZ3NSjjMAXT-vodnfgVYgyVrk9SD4eM5aViLWKNWV-WfuquP7hvpP6sJ8IXzXRNTNzwVzhVotKFzeA=w1404-h1404-s-no-gm?authuser=0',
            //InPinn
            'https://lh3.googleusercontent.com/pw/AP1GczNfsj84RParzbRdmz9tvEnu9-tS3GUZqzzmOxKvjUEqPgz9UjIQi82-Cpq8Y6Q5nvVu548MaSd1OT49ZOKecPJdIKv7-mXNdkeUqAH8OsKpApU2_urSJC-gMdjmHxHgIJ7dHiwUjJo1YwknUkRCNkEQoQ=w1404-h1404-s-no-gm?authuser=0',
            //Lochnagar
            'https://lh3.googleusercontent.com/pw/AP1GczP0I0olxCLLx2z1fUIjLGYmw2RBwyab_glmMmid-M9tVG0N0txD745p0qHZwAgngHVlPLrK-AK3Pt9SeD1l4x80oXaUDT552JaVWEttCQ98VQOjOBFmJa9cjosMeh3PF9ZtAaktuK7rsNnEEufQdwoJNg=w1868-h1404-s-no-gm?authuser=0',
            //Snake
            'https://lh3.googleusercontent.com/pw/AP1GczOd7s-dA8rFHgNPAzsbxWnEXGGBqfKKn_N_y3eiMayJev-u0o4axjIhgsqLtOTHxm9uvX_z2OBGkeqSMQGcmaYnXlz7pwvdl1YiZUAHdEOGn8i6GyirPneAHzmnIg8KViHE8WFmZJfLo3NYxZQtlsYtaA=w1404-h1404-s-no-gm?authuser=0',
            //Arctic Triple
            'https://lh3.googleusercontent.com/pw/AP1GczNTTgF9zk8D8T1_Zhf-vh13kdrMyAdtDR_CRrOdcFko97-c0ns4uEO4snepDC7ukyXNJIC7rRBN1KKZGy-eeBuwu5WClJv6Fljpb0hQx7T6PGz2skN3Y1okpzpZ6ikZk4AWZfNQbNfEUi3ZpeLE0ArZdQ=w1404-h1404-s-no-gm?authuser=0',
            //Lions
            'https://lh3.googleusercontent.com/pw/AP1GczMHKHgU0WgGUxaBXpNtxAG_2QRHlDVfG002nDtqArws_dSsxpjzQVPnXnAPLX-upo4NzouqaHCYXdPWv8Rxs1zm8q7rWZJmQ7BIa5IYhwt_uEKK_mFuHnRDFBRIwWwSixeJUaVAfzH8mLYfXw9Q1UBYXw=w1404-h1404-s-no-gm?authuser=0',
            //Patagonia
            'https://lh3.googleusercontent.com/pw/AP1GczMUQ1t48eMYUMd60Qqn6byXaiAPbb4MLDXr4mSMk1LIDIjV5-Ekvw6nojxvnIPrKh9Nro3-b2MqjqVuTCTvZeI04piRNNdkJUQZiVEFB21vuDJxNXkV_fYQbzjFon9JhReVB1RF9_gsscLfYuzmtBXaIg=w1054-h1404-s-no-gm?authuser=0',
            //Innovator
            'https://lh3.googleusercontent.com/pw/AP1GczNeCvLZbs6xXvSR9z61GKWa0BxoQ7hIRsAQ_gfBBq_cn5RkB1r-dOERXSYjfJkY_kMEYbgX-nw6_amt1AtxiP9MwJsOPM8MBLhADuLPWfp49XYlrymtIm7TrdFI--QWJz5j_1nofloAAtxSwPoDuY4C0Q=w2106-h1404-s-no-gm?authuser=0',
            //BG
            'https://lh3.googleusercontent.com/pw/AP1GczMtDzDM2fOgPpuApZVQbCZcVQGcdlENZVHyA2yCrZx9TemkkZ_qxVnMhp81CxSVEsyXgMvtsqltafdXL5jOWqd4aaAnjvlMKesfjZy_8LYgajAnDmlPLQGT8Nb6KJ6a_pkY2XAH9JhItoGy8nrHR1SBzA=w923-h924-s-no-gm?authuser=0',
            //Waterfall
            'https://lh3.googleusercontent.com/pw/AP1GczMZc4VJcyOSumdmaN6LoCUUNdCGw0HQbYwcMlQo5vYOf0X-jXzDGef66olko0BVumNzHz49jnQZcKJk5040DA6k7KVK4QBoi03c7ka3L18H76KjuWV3ZEMx14vD3OTrKjd1Z5VhlHh2VWSfgBdrSYSegg=w1868-h1404-s-no-gm?authuser=0',
            //Lejog
            'https://lh3.googleusercontent.com/pw/AP1GczPI1OVv7DO3atH8BEpa5m6ZLBuq4I-N0_fVsDC4WX6PSqUk-YbbPYhTsm30fRXPM4ziXFCve7LACHIekY30G4tklG-GABpN8e3jejsC4QTjmh2QDbV1lvySaKqjKIabZ3mlyfH93dEMRuSi94qVTlpJFQ=w1870-h1404-s-no-gm?authuser=0',
            //Cuba
            'https://lh3.googleusercontent.com/pw/AP1GczOW0UWGv7NdCJhmMQbC5CXGMnA2fMEbnrnIxj0fhp7IvzMkCB4KixhjJIe0pBhV3nP4ZzyKk9XPHuLWhh1r6t1jJV9US4Qf44EejRFLreR7Ua0sFgbh5599NdiskduWItOKCDH4o21cVkAHlxLs9CC0lg=w1868-h1404-s-no-gm?authuser=0',
            //Switzerland
            'https://lh3.googleusercontent.com/pw/AP1GczNWl8ICkm-iAFatrj_iRv3Tz4EXpHLLa1cB3yBYB8ssv1Bc_3oWfYMpQ-8dv5C71N82SaRLbxBgtsZGOE6NYfeccR8BYWislYin2NBq6aHq4KpD3_wsMA7Hz38NPSxRtnIiY71INweds8OMaDTxV59L2Q=w1870-h1404-s-no-gm?authuser=0',
            //Gliding
            'https://lh3.googleusercontent.com/pw/AP1GczPYvRjGXV-dlQw1nMaS7oXCMoQhvrMs5jy4DEyzXQ8rfjIe6HT4uZ3jWozTiTDrcVi7opgeGnV0YGwWtayzCZTzrsbR7z3SRPv-P8T1utWmquCHU4Pw-q9uUNmc1iWKLunwZ7AQVTEPQvJhBgJR1OfsWw=w1404-h1404-s-no-gm?authuser=0',
            //Northern Traverse
            'https://lh3.googleusercontent.com/pw/AP1GczPdShgNXQg_ac7KJ3-6ZNEjYEU9wtB6lUAgqEhdg3ytBvX3e6kEp3nLYkd6921MgtD2X_r1HQ9v55-CFtUzDKqkFcJXH0klWlHW_M-fCrgrlIOpeatvlL8NxfRe52WaolDDwi8ShXtkrvoUv8recz43tg=w1870-h1404-s-no-gm?authuser=0',
            //Shed
            'https://lh3.googleusercontent.com/pw/AP1GczM4yEV4FYsoT7F4M0K0BvsXs5y7L1JIQZ003tGXjfc3V6ETJa-W-ZEMeYIVbA5dwVC4iHbLuVL-B17kfuk11p_S5JhXLSReoOyzriNF5UXylKrFEW-IM2NM922j9-ziNsOZfmu1vIHlS9V4PgLmCpUfbA=w1404-h1404-s-no-gm?authuser=0'
            // Add more of your image URLs here
        ];

        const slideshowContainer = document.getElementById('slideshow-container');
        const dotsContainer = document.getElementById('dots-container');
        let slideIndex = 0;
        let slideInterval;
        let isPaused = false; // The new state variable

        // Create slide and dot elements dynamically
        imageUrls.forEach((url, index) => {
            // Create slide
            const slide = document.createElement('div');
            slide.classList.add('slide');
            slide.innerHTML = `<img src="${url}" alt="Slideshow image ${index + 1}">`;
            slideshowContainer.insertBefore(slide, document.getElementById('prev-btn'));

            // Create dot
            const dot = document.createElement('span');
            dot.classList.add('dot');
            dot.setAttribute('onclick', `currentSlide(${index})`);
            dotsContainer.appendChild(dot);
        });

        const slides = document.querySelectorAll('.slide');
        const dots = document.querySelectorAll('.dot');

        function showSlide(n) {
            slideIndex = (n + slides.length) % slides.length; // Loop around

            slides.forEach(slide => slide.classList.remove('active'));
            dots.forEach(dot => dot.classList.remove('active'));

            slides[slideIndex].classList.add('active');
            dots[slideIndex].classList.add('active');
        }

        // Functions for next/prev and current slide
        function moveSlide(n) {
            showSlide(slideIndex += n);
            resetInterval();
        }

        function currentSlide(n) {
            showSlide(n);
            resetInterval();
        }

        // Automatic slideshow interval
        function startInterval() {
            slideInterval = setInterval(() => {
                moveSlide(1);
            }, 3000); // Change image every 3 seconds
        }

        function resetInterval() {
            // If the mouse is over the slideshow, do not restart the timer.
            if (isPaused) {
                return;
            }
            clearInterval(slideInterval);
            startInterval();
        }

        // Event listeners for arrows
        document.getElementById('prev-btn').addEventListener('click', () => moveSlide(-1));
        document.getElementById('next-btn').addEventListener('click', () => moveSlide(1));

        // Add click navigation to the image container
        slideshowContainer.addEventListener('click', function(event) {
            // Do nothing if the user clicked directly on an arrow or a dot
            if (event.target.classList.contains('dot') || event.target.id === 'prev-btn' || event.target.id === 'next-btn') {
                return;
            }

            // Get the bounding rectangle of the slideshow container
            const rect = slideshowContainer.getBoundingClientRect();
            // Calculate the horizontal midpoint of the container
            const midpoint = rect.left + rect.width / 2;

            // If click is on the right half, go to the next slide
            if (event.clientX > midpoint) {
                moveSlide(1);
            }
            // If click is on the left half, go to the previous slide
            else {
                moveSlide(-1);
            }
        });
        // --- UPDATED: Pause slideshow on hover ---
        slideshowContainer.addEventListener('mouseenter', () => {
            isPaused = true; // Set the paused state
            clearInterval(slideInterval);
        });

        slideshowContainer.addEventListener('mouseleave', () => {
            isPaused = false; // Unset the paused state
            resetInterval(); // Resume the timer
        });

        // Initial setup
        showSlide(0);
        startInterval();

        // --- ACCORDION & EMOJI NAVIGATION LOGIC (Robust Version) ---
        const accordionItems = document.querySelectorAll('.accordion-item');
        const emojiContainers = document.querySelectorAll('.emoji-container');

        accordionItems.forEach(item => {
            const header = item.querySelector('.accordion-header');
            if (header) {
                header.addEventListener('click', () => {
                    const icon = header.querySelector('.accordion-icon');
                    // Toggle the 'active' class on the main item div
                    item.classList.toggle('active');

                    // Update the plus/minus icon
                    if (item.classList.contains('active')) {
                        icon.classList.replace('fa-plus', 'fa-minus');
                    } else {
                        icon.classList.replace('fa-minus', 'fa-plus');
                    }
                });
            }
        });

        emojiContainers.forEach(container => {
            container.addEventListener('click', function() {
                const targetId = this.dataset.target;
                const targetSection = document.getElementById(targetId);

                if (targetSection) {
                    // Force the section to open if it's not already active
                    if (!targetSection.classList.contains('active')) {
                        const header = targetSection.querySelector('.accordion-header');
                        if (header) header.click(); // Simulate a click to open it
                    }

                    // Scroll to the section after a short delay
                    setTimeout(() => {
                        targetSection.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }, 100);
                }
            });
        });



        // --- SPINNER LOGIC (v6 - True No-Repeat Cycle) ---
        let spinnerInitialized = false;

        function initializeSpinner() {
            if (spinnerInitialized) return;

            const goals = [{
                    text: "Portfolio Project",
                    description: "One of my more exciting ideas is that one day I want all students to have the chance to create some kind of portfolio of the things they are proud of a little bit like this site - something they could use in interviews but also something which will make them see all the amazing stuff they have done all in one place."
                },
                {
                    text: "Mountain Leader",
                    description: "Complete the Mountain Leader course to be able to safely lead groups in the mountains."
                },
                {
                    text: "Mountain Rounds",
                    description: "Complete the other two classic UK mountain rounds: the Paddy Buckley Round in Wales and the Ramsey Round in Scotland."
                },
                {
                    text: "Work with PRUs",
                    description: "Work with Pupil Referral Units like Eko, using my skills to support students who have been excluded from mainstream education."
                },
                {
                    text: "Get a Motorbike",
                    description: "I used to have a motorbike. Now I want a big boy one. Maybe a Triumph Speed Triple..."
                },
                {
                    text: "Complete CS50",
                    description: "Finish Harvard's CS50 course and then complete the AI version to deepen my computer science knowledge."
                },
                {
                    text: "London Marathon",
                    description: "Train hard and qualify for the London Marathon with a 'Good for Age' time (currently 2:52)."
                },
                {
                    text: "Kona Triathlon",
                    description: "Take my triathlon training to the next level and qualify for the Ironman World Championship in Kona as an age-grouper."
                },
                {
                    text: "Write a Story",
                    description: "Dedicate time to creative writing and complete a story that I am proud of."
                },
                {
                    text: "Serious Chess",
                    description: "Get serious about chess, study openings and tactics, and aim for a 1500 rating."
                },
                {
                    text: "Learn Piano",
                    description: "Learn to play the piano to a good standard."
                },
                {
                    text: "Learn French",
                    description: "Become proficient enough in French to be able to read a novel from start to finish."
                },
                {
                    text: "Kungsleden Trail",
                    description: "Plan and complete a solo wild-camping trip along the famous Kungsleden (King's Trail) in Sweden."
                }
            ];

            const colors = ["#4f46e5", "#ec4899", "#22c55e", "#f97316", "#3b82f6", "#8b5cf6", "#10b981", "#eab308", "#6366f1", "#d946ef", "#06b6d4", "#f59e0b", "#ef4444"];
            const canvas = document.getElementById('spinner-canvas');
            const spinButton = document.getElementById('spin-button');
            const goalDisplay = document.getElementById('goal-display');

            if (!canvas || !spinButton || !goalDisplay) return;

            const ctx = canvas.getContext('2d');
            const numSegments = goals.length;
            const arcSize = (2 * Math.PI) / numSegments;
            const size = canvas.parentElement.clientWidth;
            canvas.width = size;
            canvas.height = size;
            const radius = size / 2;

            let currentRotation = 0;
            let isSpinning = false;

            // --- NEW LOGIC: Create a list of available goals ---
            let availableGoals = [...goals];
            let lastGoal = null;

            const pointerAngle = 1.5 * Math.PI;
            const firstSegmentCenter = arcSize / 2;
            currentRotation = pointerAngle - firstSegmentCenter;

            function drawSpinner(rotationAngle) {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                ctx.save();
                ctx.translate(radius, radius);
                ctx.rotate(rotationAngle);
                for (let i = 0; i < numSegments; i++) {
                    const angle = arcSize * i;
                    ctx.beginPath();
                    ctx.moveTo(0, 0);
                    ctx.arc(0, 0, radius - 5, angle, angle + arcSize);
                    ctx.closePath();
                    ctx.fillStyle = colors[i % colors.length];
                    ctx.fill();
                    ctx.strokeStyle = "#fff";
                    ctx.lineWidth = 3;
                    ctx.stroke();
                    ctx.save();
                    ctx.rotate(angle + arcSize / 2);
                    ctx.textAlign = "right";
                    ctx.fillStyle = "#fff";
                    ctx.font = "bold 14px Poppins";
                    ctx.textBaseline = "middle";
                    ctx.fillText(goals[i].text, radius - 15, 0);
                    ctx.restore();
                }
                ctx.restore();
            }

            function spin() {
                if (isSpinning) return;
                isSpinning = true;
                spinButton.disabled = true;

                // --- NEW LOGIC: Pick from the available list ---
                // If the list is empty, reset it
                if (availableGoals.length === 0) {
                    availableGoals = [...goals];
                }

                // Pick a random index from the available list
                const availableIndex = Math.floor(Math.random() * availableGoals.length);
                // Get the goal and remove it from the available list
                const winningGoal = availableGoals.splice(availableIndex, 1)[0];

                // Find the original index of the winner to position the spinner
                const winningSegment = goals.findIndex(g => g.text === winningGoal.text);

                const startRotation = currentRotation;
                const spinRevolutions = 3 * Math.PI * 2;
                const targetAngle = startRotation + spinRevolutions - (startRotation % (2 * Math.PI)) + (2 * Math.PI - (winningSegment * arcSize + arcSize / 2) + pointerAngle);

                let startTimestamp = null;

                function animate(timestamp) {
                    if (!startTimestamp) startTimestamp = timestamp;
                    const progress = timestamp - startTimestamp;
                    const duration = 2000;

                    const easeOut = 1 - Math.pow(1 - Math.min(progress / duration, 1), 4);
                    const rotation = startRotation + easeOut * (targetAngle - startRotation);

                    drawSpinner(rotation);

                    if (progress < duration) {
                        requestAnimationFrame(animate);
                    } else {
                        currentRotation = targetAngle;
                        drawSpinner(currentRotation);

                        goalDisplay.style.opacity = 0;
                        setTimeout(() => {
                            goalDisplay.textContent = winningGoal.description;
                            goalDisplay.style.opacity = 1;
                        }, 300);

                        isSpinning = false;
                        spinButton.disabled = false;
                    }
                }
                requestAnimationFrame(animate);
            }

            spinButton.addEventListener('click', spin);
            drawSpinner(currentRotation);
            spinnerInitialized = true;
        }

        // --- IMAGE MAGNIFIER LOGIC (Final, Robust Version) ---
        document.querySelectorAll('.magnify-container').forEach(container => {
            const img = container.querySelector('img');
            const lens = container.querySelector('.magnify-lens');

            if (!img || !lens) return;

            const setupMagnifier = () => {
                const zoom = 1.3; // Magnification level

                // Use the image's actual file dimensions for a reliable calculation
                const naturalImgWidth = img.naturalWidth;
                const naturalImgHeight = img.naturalHeight;

                // Set the background of the lens to be the same as the image source
                lens.style.backgroundImage = `url(${img.src})`;
                // Set the size of the background image within the lens to be the zoomed version
                lens.style.backgroundSize = `${naturalImgWidth * zoom}px ${naturalImgHeight * zoom}px`;

                function moveMagnifier(e) {
                    e.preventDefault();

                    const rect = img.getBoundingClientRect();
                    // Get cursor position relative to the image
                    const x = e.pageX - rect.left - window.scrollX;
                    const y = e.pageY - rect.top - window.scrollY;

                    // Calculate the ratio of the displayed image size vs its natural size
                    const ratioX = naturalImgWidth / img.offsetWidth;
                    const ratioY = naturalImgHeight / img.offsetHeight;

                    // Position the lens
                    lens.style.left = `${x - lens.offsetWidth / 2}px`;
                    lens.style.top = `${y - lens.offsetHeight / 2}px`;

                    // Position the background image inside the lens
                    const bgX = -((x * ratioX * zoom) - lens.offsetWidth / 2);
                    const bgY = -((y * ratioY * zoom) - lens.offsetHeight / 2);
                    lens.style.backgroundPosition = `${bgX}px ${bgY}px`;
                }

                container.addEventListener('mousemove', moveMagnifier);
                container.addEventListener('mouseenter', () => {
                    lens.style.display = 'block';
                });
                container.addEventListener('mouseleave', () => {
                    lens.style.display = 'none';
                });
            };

            // Wait for the image to be fully loaded before setting up the magnifier
            if (img.complete) {
                setupMagnifier();
            } else {
                img.addEventListener('load', setupMagnifier);
            }
        });

        // --- ADVENTURE MAP & MODAL LOGIC (v9 - Universal Offset) ---
        let adventureMapInitialized = false;

        function initializeAdventureMap() {
            if (adventureMapInitialized) return;

            const adventures = [{
                    title: "The Northern Traverse",
                    image: "https://lh3.googleusercontent.com/pw/AP1GczPdShgNXQg_ac7KJ3-6ZNEjYEU9wtB6lUAgqEhdg3ytBvX3e6kEp3nLYkd6921MgtD2X_r1HQ9v55-CFtUzDKqkFcJXH0klWlHW_M-fCrgrlIOpeatvlL8NxfRe52WaolDDwi8ShXtkrvoUv8recz43tg=w1870-h1404-s-no-gm?authuser=0",
                    description: "A 5-day, 190-mile ultra-marathon crossing the UK from St Bees on the west coast to Robin Hood's Bay on the east...",
                    stats: {
                        Distance: "190 miles",
                        Duration: "5 days",
                        Location: "UK Coast to Coast"
                    },
                    locationCoords: {
                        top: 18.3,
                        left: 43.3
                    },
                    pinCoords: {
                        top: 15.8,
                        left: 44.4
                    } // Manually set pin position
                },
                {
                    title: "Bob Graham Round",
                    image: "https://lh3.googleusercontent.com/pw/AP1GczMtDzDM2fOgPpuApZVQbCZcVQGcdlENZVHyA2yCrZx9TemkkZ_qxVnMhp81CxSVEsyXgMvtsqltafdXL5jOWqd4aaAnjvlMKesfjZy_8LYgajAnDmlPLQGT8Nb6KJ6a_pkY2XAH9JhItoGy8nrHR1SBzA=w923-h924-s-no-gm?authuser=0",
                    description: "A fell running challenge in the English Lake District. It is a circuit of 66 miles, 27,000 ft of ascent, covering 42 of the highest peaks in the area within 24 hours.",
                    stats: {
                        Distance: "66 miles",
                        Duration: "< 24 hours",
                        Location: "Lake District, UK"
                    },
                    locationCoords: {
                        top: 18.6,
                        left: 42.8
                    },
                    pinCoords: {
                        top: 16.4,
                        left: 40.2
                    } // Manually set pin position
                },
                {
                    title: "Crossing Switzerland",
                    image: "https://lh3.googleusercontent.com/pw/AP1GczNWl8ICkm-iAFatrj_iRv3Tz4EXpHLLa1cB3yBYB8ssv1Bc_3oWfYMpQ-8dv5C71N82SaRLbxBgtsZGOE6NYfeccR8BYWislYin2NBq6aHq4KpD3_wsMA7Hz38NPSxRtnIiY71INweds8OMaDTxV59L2Q=w1870-h1404-s-no-gm?authuser=0",
                    description: "A 7-day, 240-mile ultra along the stunning Via Alpina trail...",
                    stats: {
                        Distance: "240 miles",
                        Duration: "7 days",
                        Elevation: "24,000m"
                    },
                    locationCoords: {
                        top: 24.3,
                        left: 46.6
                    },
                    pinCoords: {
                        top: 34.4,
                        left: 45.8
                    } // Manually set pin position
                },
                {
                    title: "Arctic Triple Triathlon",
                    image: "https://lh3.googleusercontent.com/pw/AP1GczNTTgF9zk8D8T1_Zhf-vh13kdrMyAdtDR_CRrOdcFko97-c0ns4uEO4snepDC7ukyXNJIC7rRBN1KKZGy-eeBuwu5WClJv6Fljpb0hQx7T6PGz2skN3Y1okpzpZ6ikZk4AWZfNQbNfEUi3ZpeLE0ArZdQ=w1404-h1404-s-no-gm?authuser=0",
                    description: "To celebrate my 30th birthday, I signed up for this extreme distance triathlon in Lofoten, northern Norway...",
                    stats: {
                        Distance: "Ironman+",
                        Location: "Lofoten, Norway",
                        Highlight: "Finishing on my 30th birthday"
                    },
                    locationCoords: {
                        top: 8.6,
                        left: 50.7
                    },
                    pinCoords: {
                        top: 18,
                        left: 52.7
                    }
                },
                {
                    title: "MizMal",
                    image: "https://lh3.googleusercontent.com/pw/AP1GczPigD1C6ST6BLaRJXkuh43xpBn9fFPnXDbefYgwFZYukkk-ZW4RizuRMpAiwgaDpGoYe8dPa_TsAGWg7jYdE5YI9bWCetKuWGPu2d4_739H62ygpiNUwIHoyIgTuuj8bDtQLHjuh-EHOcVfNrF0-Ym2aA=w1404-h1404-s-no-gm?authuser=0",
                    description: "A 6-day cycling adventure along the west coast of Ireland. Lots of Guinness, lots of sweets, lots of singing.",
                    stats: {
                        Distance: "500 miles",
                        Duration: "6 days",
                        Elevation: "? but lots of hills!"
                    },
                    locationCoords: {
                        top: 20.7,
                        left: 41.1
                    },
                    pinCoords: {
                        top: 20.8,
                        left: 38.5
                    }
                },
                {
                    title: "Patagonia 100-miler",
                    image: "https://lh3.googleusercontent.com/pw/AP1GczMUQ1t48eMYUMd60Qqn6byXaiAPbb4MLDXr4mSMk1LIDIjV5-Ekvw6nojxvnIPrKh9Nro3-b2MqjqVuTCTvZeI04piRNNdkJUQZiVEFB21vuDJxNXkV_fYQbzjFon9JhReVB1RF9_gsscLfYuzmtBXaIg=w1054-h1404-s-no-gm?authuser=0",
                    description: "A 100 mile race in the Patagonian Andes. I finished in 36 hours. The biggest challenge was lack of sleep. Recovered with beer and steak.",
                    stats: {
                        Distance: "100 miles",
                        Duration: "36 hours",
                        Elevation: "9000 meters"
                    },
                    locationCoords: {
                        top: 85.5,
                        left: 19.3
                    }
                },
                {
                    title: "Inaccessible Pinnacle",
                    image: "https://lh3.googleusercontent.com/pw/AP1GczNfsj84RParzbRdmz9tvEnu9-tS3GUZqzzmOxKvjUEqPgz9UjIQi82-Cpq8Y6Q5nvVu548MaSd1OT49ZOKecPJdIKv7-mXNdkeUqAH8OsKpApU2_urSJC-gMdjmHxHgIJ7dHiwUjJo1YwknUkRCNkEQoQ=w1404-h1404-s-no-gm?authuser=0",
                    description: "One of Scotland's Munros, I climbed this with my cousin Flo on our adventure to Skye in her converted van. Wild-camping, dog-walking and non-showering made the week an adventure! Beware of the midges on Skye...",
                    stats: {
                        Distance: "NA",
                        Duration: "NA",
                        Elevation: "986 meters"
                    },
                    locationCoords: {
                        top: 16.6,
                        left: 42.5
                    },
                    pinCoords: {
                        top: 11.9,
                        left: 42.3
                    }
                },
                {
                    title: "Lions in Senegal",
                    image: "https://lh3.googleusercontent.com/pw/AP1GczMHKHgU0WgGUxaBXpNtxAG_2QRHlDVfG002nDtqArws_dSsxpjzQVPnXnAPLX-upo4NzouqaHCYXdPWv8Rxs1zm8q7rWZJmQ7BIa5IYhwt_uEKK_mFuHnRDFBRIwWwSixeJUaVAfzH8mLYfXw9Q1UBYXw=w1404-h1404-s-no-gm?authuser=0",
                    description: "We went to an enclosure in Senegal to walk with a pair of adult lions. This was after we signed a form admitting fault if we were eaten. We also spotted hippos floating along the Gambia river and stroked crocodiles at a sanctuary.",
                    stats: {
                        Distance: "NA",
                        Duration: "NA",
                        Elevation: "NA"
                    },
                    locationCoords: {
                        top: 48.8,
                        left: 38.4
                    }
                },
                {
                    title: "Snakes in Bali",
                    image: "https://lh3.googleusercontent.com/pw/AP1GczOd7s-dA8rFHgNPAzsbxWnEXGGBqfKKn_N_y3eiMayJev-u0o4axjIhgsqLtOTHxm9uvX_z2OBGkeqSMQGcmaYnXlz7pwvdl1YiZUAHdEOGn8i6GyirPneAHzmnIg8KViHE8WFmZJfLo3NYxZQtlsYtaA=w1404-h1404-s-no-gm?authuser=0",
                    description: "If I had to reccommend one place to visit, it would be Bali. Amazing food, beautiful nature and amazing animals. We visited a reptile park and held an anaconda, swam with giant turtles, nearly got attacked by gangs of monkeys and stayed on a desert island with no motor vehicles (but lots of partying 18-year-olds). We stayed on the coast, in the jungles of Ubud and on the Isand of Gili T. Book your ticket!",
                    stats: {
                        Distance: "NA",
                        Duration: "NA",
                        Elevation: "NA"
                    },
                    locationCoords: {
                        top: 64,
                        left: 85.4
                    }
                },
                {
                    title: "Iguazu Falls",
                    image: "https://lh3.googleusercontent.com/pw/AP1GczMZc4VJcyOSumdmaN6LoCUUNdCGw0HQbYwcMlQo5vYOf0X-jXzDGef66olko0BVumNzHz49jnQZcKJk5040DA6k7KVK4QBoi03c7ka3L18H76KjuWV3ZEMx14vD3OTrKjd1Z5VhlHh2VWSfgBdrSYSegg=w1868-h1404-s-no-gm?authuser=0",
                    description: "One of the most amazing natural wonders I have ever seen. Go to Iguazu Falls and see for yourself.",
                    stats: {
                        Distance: "NA",
                        Duration: "NA",
                        Elevation: "NA"
                    },
                    locationCoords: {
                        top: 76.3,
                        left: 24
                    }
                },
                {
                    title: "Land's End to John O'Groats",
                    image: "https://lh3.googleusercontent.com/pw/AP1GczPI1OVv7DO3atH8BEpa5m6ZLBuq4I-N0_fVsDC4WX6PSqUk-YbbPYhTsm30fRXPM4ziXFCve7LACHIekY30G4tklG-GABpN8e3jejsC4QTjmh2QDbV1lvySaKqjKIabZ3mlyfH93dEMRuSi94qVTlpJFQ=w1870-h1404-s-no-gm?authuser=0",
                    description: "During lock downs, my housemate Jonny and me got into long cycle rides. Since we couldn't plan to go anywhere in the summer of 2020 we instead decided to cycle the length of the country from Land's End to John O'Groats. We completed this adventure in 9 and a half days and Dave met us at the end in the minibus. Have a look at this photobook for more info: https://drive.google.com/file/d/1kfqGX8vjp6QTmGiQmw4Capod1x2vme38/view?usp=sharing",
                    stats: {
                        Distance: "925 miles",
                        Duration: "9.5 days",
                        Elevation: "17,000 meters"
                    },
                    locationCoords: {
                        top: 21.7,
                        left: 42.7
                    },
                    pinCoords: {
                        top: 27.7,
                        left: 38.7
                    }
                },
                {
                    title: "Cuba",
                    image: "https://lh3.googleusercontent.com/pw/AP1GczOW0UWGv7NdCJhmMQbC5CXGMnA2fMEbnrnIxj0fhp7IvzMkCB4KixhjJIe0pBhV3nP4ZzyKk9XPHuLWhh1r6t1jJV9US4Qf44EejRFLreR7Ua0sFgbh5599NdiskduWItOKCDH4o21cVkAHlxLs9CC0lg=w1868-h1404-s-no-gm?authuser=0",
                    description: "Classic cars, blackouts, communism, talcum-powder beaches. Cuba is a crazy place and everyone should visit. Just don't fly there from America as they didn't let us back in. Getting home was an unexpected adventure...",
                    stats: {
                        Distance: "NA",
                        Duration: "NA",
                        Elevation: "NA"
                    },
                    locationCoords: {
                        top: 41.5,
                        left: 14.2
                    }
                },
                {
                    title: "Shed",
                    image: "https://lh3.googleusercontent.com/pw/AP1GczM4yEV4FYsoT7F4M0K0BvsXs5y7L1JIQZ003tGXjfc3V6ETJa-W-ZEMeYIVbA5dwVC4iHbLuVL-B17kfuk11p_S5JhXLSReoOyzriNF5UXylKrFEW-IM2NM922j9-ziNsOZfmu1vIHlS9V4PgLmCpUfbA=w1404-h1404-s-no-gm?authuser=0",
                    description: "Another lock down project: Operation Shed. With our neighbour and lots of blood sweat and tears, we built a shed that can be used as a gym or an office. I learnt a lot throughout this process and am proud of my shed. Although it does get quite hot in summer and quite cold in winter...",
                    stats: {
                        Distance: "NA",
                        Duration: "NA",
                        Elevation: "NA"
                    },
                    locationCoords: {
                        top: 20.5,
                        left: 43.9
                    },
                    pinCoords: {
                        top: 21,
                        left: 46.6
                    }
                }
                /**
                 * 
            //InPinn
            '',
            //Lochnagar
            'https://lh3.googleusercontent.com/pw/AP1GczP0I0olxCLLx2z1fUIjLGYmw2RBwyab_glmMmid-M9tVG0N0txD745p0qHZwAgngHVlPLrK-AK3Pt9SeD1l4x80oXaUDT552JaVWEttCQ98VQOjOBFmJa9cjosMeh3PF9ZtAaktuK7rsNnEEufQdwoJNg=w1868-h1404-s-no-gm?authuser=0',
            //Snake
            'https://lh3.googleusercontent.com/pw/AP1GczOd7s-dA8rFHgNPAzsbxWnEXGGBqfKKn_N_y3eiMayJev-u0o4axjIhgsqLtOTHxm9uvX_z2OBGkeqSMQGcmaYnXlz7pwvdl1YiZUAHdEOGn8i6GyirPneAHzmnIg8KViHE8WFmZJfLo3NYxZQtlsYtaA=w1404-h1404-s-no-gm?authuser=0',
            
            //Lions
            'https://lh3.googleusercontent.com/pw/AP1GczMHKHgU0WgGUxaBXpNtxAG_2QRHlDVfG002nDtqArws_dSsxpjzQVPnXnAPLX-upo4NzouqaHCYXdPWv8Rxs1zm8q7rWZJmQ7BIa5IYhwt_uEKK_mFuHnRDFBRIwWwSixeJUaVAfzH8mLYfXw9Q1UBYXw=w1404-h1404-s-no-gm?authuser=0',
            
            //Innovator
            'https://lh3.googleusercontent.com/pw/AP1GczNeCvLZbs6xXvSR9z61GKWa0BxoQ7hIRsAQ_gfBBq_cn5RkB1r-dOERXSYjfJkY_kMEYbgX-nw6_amt1AtxiP9MwJsOPM8MBLhADuLPWfp49XYlrymtIm7TrdFI--QWJz5j_1nofloAAtxSwPoDuY4C0Q=w2106-h1404-s-no-gm?authuser=0',
            
            //Waterfall
            'https://lh3.googleusercontent.com/pw/AP1GczMZc4VJcyOSumdmaN6LoCUUNdCGw0HQbYwcMlQo5vYOf0X-jXzDGef66olko0BVumNzHz49jnQZcKJk5040DA6k7KVK4QBoi03c7ka3L18H76KjuWV3ZEMx14vD3OTrKjd1Z5VhlHh2VWSfgBdrSYSegg=w1868-h1404-s-no-gm?authuser=0',
            //Lejog
            'https://lh3.googleusercontent.com/pw/AP1GczPI1OVv7DO3atH8BEpa5m6ZLBuq4I-N0_fVsDC4WX6PSqUk-YbbPYhTsm30fRXPM4ziXFCve7LACHIekY30G4tklG-GABpN8e3jejsC4QTjmh2QDbV1lvySaKqjKIabZ3mlyfH93dEMRuSi94qVTlpJFQ=w1870-h1404-s-no-gm?authuser=0',
            //Cuba
            'https://lh3.googleusercontent.com/pw/AP1GczOW0UWGv7NdCJhmMQbC5CXGMnA2fMEbnrnIxj0fhp7IvzMkCB4KixhjJIe0pBhV3nP4ZzyKk9XPHuLWhh1r6t1jJV9US4Qf44EejRFLreR7Ua0sFgbh5599NdiskduWItOKCDH4o21cVkAHlxLs9CC0lg=w1868-h1404-s-no-gm?authuser=0',
            //Switzerland
            'https://lh3.googleusercontent.com/pw/AP1GczNWl8ICkm-iAFatrj_iRv3Tz4EXpHLLa1cB3yBYB8ssv1Bc_3oWfYMpQ-8dv5C71N82SaRLbxBgtsZGOE6NYfeccR8BYWislYin2NBq6aHq4KpD3_wsMA7Hz38NPSxRtnIiY71INweds8OMaDTxV59L2Q=w1870-h1404-s-no-gm?authuser=0',
            //Gliding
            'https://lh3.googleusercontent.com/pw/AP1GczPYvRjGXV-dlQw1nMaS7oXCMoQhvrMs5jy4DEyzXQ8rfjIe6HT4uZ3jWozTiTDrcVi7opgeGnV0YGwWtayzCZTzrsbR7z3SRPv-P8T1utWmquCHU4Pw-q9uUNmc1iWKLunwZ7AQVTEPQvJhBgJR1OfsWw=w1404-h1404-s-no-gm?authuser=0',
            //Shed
            'https://lh3.googleusercontent.com/pw/AP1GczM4yEV4FYsoT7F4M0K0BvsXs5y7L1JIQZ003tGXjfc3V6ETJa-W-ZEMeYIVbA5dwVC4iHbLuVL-B17kfuk11p_S5JhXLSReoOyzriNF5UXylKrFEW-IM2NM922j9-ziNsOZfmu1vIHlS9V4PgLmCpUfbA=w1404-h1404-s-no-gm?authuser=0'
                 */
            ];

            const mapContainer = document.getElementById('map-container');
            const linesSvg = document.getElementById('map-lines-svg');
            const adventureGrid = document.getElementById('adventure-grid');
            const modal = document.getElementById('adventure-modal');
            const modalContent = document.getElementById('modal-content');
            const modalBody = document.getElementById('modal-body');
            const modalCloseBtn = document.getElementById('modal-close-btn');
            const mapViewBtn = document.getElementById('map-view-btn');
            const gridViewBtn = document.getElementById('grid-view-btn');

            if (!adventureGrid || !modal || !mapContainer) return;

            const placedPins = [];
            const mapHeight = mapContainer.offsetHeight;

            adventures.forEach((adventure, index) => {
                let finalPinCoords;

                if (adventure.pinCoords) {
                    finalPinCoords = adventure.pinCoords;
                } else {
                    // --- THIS IS THE NEW LOGIC ---
                    // Start with a default offset for every automatic pin
                    let tempCoords = {
                        top: adventure.locationCoords.top - 3,
                        left: adventure.locationCoords.left - 2
                    };
                    // --- END OF NEW LOGIC ---

                    let isOverlapping = true;
                    const pinSize = 3.5;

                    while (isOverlapping) {
                        isOverlapping = false;
                        for (const placed of placedPins) {
                            const dx = placed.left - tempCoords.left;
                            const dy = placed.top - tempCoords.top;
                            const distance = Math.sqrt(dx * dx + dy * dy);
                            if (distance < pinSize) {
                                isOverlapping = true;
                                tempCoords.top -= 0.5;
                                tempCoords.left -= 0.5;
                                break;
                            }
                        }
                    }
                    finalPinCoords = tempCoords;
                }
                placedPins.push(finalPinCoords);

                const pin = document.createElement('div');
                pin.className = 'map-pin';
                pin.style.top = `${finalPinCoords.top}%`;
                pin.style.left = `${finalPinCoords.left}%`;
                pin.innerHTML = `<span class="pin-tooltip">${adventure.title}</span>`;
                pin.addEventListener('click', () => openModal(adventure));
                mapContainer.appendChild(pin);

                const yOffsetPercent = (10 / mapHeight) * 100;

                const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                line.setAttribute('class', 'leader-line');
                line.setAttribute('x1', `${finalPinCoords.left}%`);
                line.setAttribute('y1', `${finalPinCoords.top - yOffsetPercent}%`);
                line.setAttribute('x2', `${adventure.locationCoords.left}%`);
                line.setAttribute('y2', `${adventure.locationCoords.top}%`);
                linesSvg.appendChild(line);

                const dot = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                dot.setAttribute('class', 'location-dot');
                dot.setAttribute('cx', `${adventure.locationCoords.left}%`);
                dot.setAttribute('cy', `${adventure.locationCoords.top}%`);
                dot.setAttribute('r', '4');
                linesSvg.appendChild(dot);

                const card = document.createElement('div');
                card.className = 'adventure-card bg-white rounded-xl shadow-md overflow-hidden transform hover:-translate-y-1 transition-transform duration-300 cursor-pointer';
                card.innerHTML = `
            <div class="w-full h-32 bg-gray-200 flex items-center justify-center rounded-t-xl"><img src="${adventure.image}" alt="${adventure.title}" class="w-full h-full object-contain"></div>
            <div class="p-3 text-center"><h3 class="font-bold text-base">${adventure.title}</h3></div>
        `;
                card.addEventListener('click', () => openModal(adventure));
                adventureGrid.appendChild(card);
            });

            mapViewBtn.addEventListener('click', () => {
                mapViewBtn.classList.add('active');
                gridViewBtn.classList.remove('active');
                mapContainer.classList.remove('hidden');
                adventureGrid.classList.add('hidden');
            });
            gridViewBtn.addEventListener('click', () => {
                gridViewBtn.classList.add('active');
                mapViewBtn.classList.remove('active');
                adventureGrid.classList.remove('hidden');
                mapContainer.classList.add('hidden');
            });

            function openModal(adventure) {
                let statsHTML = '';
                for (const [key, value] of Object.entries(adventure.stats)) {
                    statsHTML += `<div class="bg-gray-100 rounded-lg p-3"><p class="text-sm text-gray-500">${key}</p><p class="font-bold text-gray-800">${value}</p></div>`;
                }
                modalBody.innerHTML = `
            <div class="w-full h-[32rem] bg-gray-800 rounded-t-xl flex items-center justify-center"><img src="${adventure.image}" alt="${adventure.title}" class="w-full h-full object-contain"></div>
            <div class="p-6"><h2 class="text-3xl font-bold mb-4">${adventure.title}</h2><div class="grid grid-cols-2 sm:grid-cols-3 gap-4 mb-6 text-center">${statsHTML}</div><p class="text-gray-700 whitespace-pre-wrap">${adventure.description}</p></div>
        `;
                modal.classList.remove('hidden');
                document.body.style.overflow = 'hidden';
                setTimeout(() => {
                    modal.style.opacity = '1';
                    modalContent.style.transform = 'scale(1)';
                }, 10);
            }

            function closeModal() {
                modal.style.opacity = '0';
                modalContent.style.transform = 'scale(0.95)';
                setTimeout(() => {
                    modal.classList.add('hidden');
                    document.body.style.overflow = 'auto';
                }, 300);
            }
            modalCloseBtn.addEventListener('click', closeModal);
            modal.addEventListener('click', (e) => {
                if (e.target === modal) closeModal();
            });

            adventureMapInitialized = true;
        }
    </script>
</body>

</html>
